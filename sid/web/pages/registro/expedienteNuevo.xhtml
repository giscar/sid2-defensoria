<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:gc="http://xmlns.jcp.org/jsf/composite/gc">

    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form id="idForm" class="form-horizontal" enctype="multipart/form-data">
                <script>
                    function confirmar3() {
                        if ($("#idTipoClasificacion").val() === "0") {
                            alertar("Debe de ingresar el tipo de expediente!");
                            return false;
                        } else {
                            if ($(".idChecExpedienteOficio").is(':checked')) {
                                if ($("#idTipoClasificacion").val() === "02") {
                                    alertar("Para un expediente de oficio el tipo no puede ser CONSULTA");
                                    return false;
                                }
                            }
                            $(".confirmacion3").modal('show');
                        }
                    }
                    function confirmar0() {
                        $(".confirmacion0").modal('show');
                    }
                    function confirmar6() {
                        $(".confirmacion6").modal('show');
                    }
                    $(document).ready(function () {
                        $("#idModalCulminar").modal('show');
                    });

                </script>
                <gc:confirmSubmit rendered="#{registroController.etapaEstado.verEtapa != 2}" classGC="confirmacion3" bean="#{registroController.concluir()}" mensaje="Está seguro que desea concluir la etapa?"/>
                <gc:confirmSubmit rendered="#{registroController.etapaEstado.verEtapa == 2}" classGC="confirmacion3" bean="#{registroController.concluir()}" mensaje="Está seguro de haber completado la clasificación temática?      Está seguro que desea concluir la etapa?"/>
                <gc:confirmSubmitRemove classGC="confirmacion0" bean="#{registroController.desistirExpediente()}"  mensaje="Está seguro que desea desistir expediente?"/>
                <gc:confirmSubmit classGC="confirmacion6" bean="#{registroController.conclusionManualExpediente()}"  mensaje="Está seguro que desea concluir el expediente?"/>
                <h:panelGroup rendered="#{registroController.verModalConclusion}">
                    <div class="modal fade" data-backdrop="static" data-keyboard="false" id="idModalCulminar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="text-align: left">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <span class="text-resalt-primary" style="font-size: 2em">¿Está seguro de concluir el expediente?</span>
                                </div>
                                <div class="modal-body" style="padding:5px">
                                    <h:selectBooleanCheckbox rendered="#{registroController.expediente.tipoClasificion != '02'}" value="#{registroController.expediente.indRelevante}" >
                                        El caso es relevante? 
                                    </h:selectBooleanCheckbox>
                                    <br/><br/>
                                    <h:outputText rendered="#{registroController.expediente.tipoClasificion == '02'}" value="Orientación" class="text-bold"/>
                                    <h:outputText rendered="#{registroController.expediente.tipoClasificion != '02'}" value="Detalle de la conclusión:" class="text-bold" style="font-size: 1.5em"/>
                                    <textarea rows="5" jsf:rendered="#{registroController.expediente.tipoClasificion == '02'}" jsf:value="#{registroController.expediente.conclusion}" style="width: 100%;" placeholder="Orientación" maxlength="1950"/>
                                    <textarea rows="5" jsf:rendered="#{registroController.expediente.tipoClasificion != '02'}" jsf:value="#{registroController.expediente.conclusion}" style="width: 100%;" placeholder="Detalle de la conclusión" maxlength="1950"/>
                                    <div class="modal-footer">
                                        <a class="btn btn-primary" data-dismiss="modal" jsf:action="#{registroController.guardarConclusionFinExpediente()}">
                                            <span class="glyphicon glyphicon-floppy-disk"/>Guardar
                                        </a>
                                        <a class="btn btn-danger" data-dismiss="modal" jsf:action="#{registroController.cancelarConclusion()}">
                                            <span class="glyphicon glyphicon-remove"/>Cerrar
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="form-group row">
                                    <div class="col-6">
                                        <h4 class="card-title">Expediente: #{registroController.expediente.numero}</h4>
                                        <h:outputText value=" (CONCLUIDO)" rendered="#{registroController.expediente.general == 'C'}"  style="color: red; font-weight: bold; font-size: 1.5em" />
                                        <h:outputText value="- (DESISTIDO)" rendered="#{registroController.expediente.indicadorDesestimiento == 1}"  style="color: red; font-weight: bold; font-size: 1.5em" />
                                    </div> 
                                    <h:panelGroup rendered="#{registroController.expediente.contrasenia.length() > 0}">
                                        <div class="col-3">
                                            <h4 class="card-title" >Contraseña: <label class="label label-danger" style="font-size: 20px" >#{registroController.expediente.contrasenia}</label></h4>
                                        </div> 
                                    </h:panelGroup>
                                    <div class="col-3" style="text-align: right">
                                        <a jsf:rendered="#{registroController.expediente.version >= 1}" jsf:action="#{registroController.pdf()}">
                                            <img src="../../bootstrap/img/pdf.png" height="30" width="30"/>
                                        </a>
                                    </div>
                                </div>
                                <div id="idModalReconsideracion" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Reconsideración</h4>
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="form-group">
                                                    <label for="recipient-name" class="control-label">Reconsideración</label>
                                                    <h:selectBooleanCheckbox value="#{registroController.expediente.indiceReconsideracion}"/>
                                                </div>
                                                <div class="form-group">
                                                    <label for="message-text" class="control-label">Detalle</label>
                                                    <textarea rows="5" jsf:value="#{registroController.expediente.detalleReconsideracion}" placeholder="Detalle" maxlength="1900" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <a class="btn btn-info" data-dismiss="modal" jsf:action="#{registroController.guardarReconsideracion()}">
                                                    <span class="fa fa-save"/> Guardar
                                                </a>
                                                <a class="btn btn-danger" data-dismiss="modal">
                                                    <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-6">
                                        <h4 class="card-title" rendered="#{registroController.etapaEstado.ultimoEstado != null}" >Estado: #{registroController.etapaEstado.ultimoEstado} </h4>         
                                    </div>
                                    <div class="col-6" style="text-align: right">
                                        <script>
                                            function modalReconsideracion() {
                                                $("#loadModal").modal('hide');
                                                $('body').removeClass('modal-open');
                                                $(".modal-backdrop").removeClass("modal-backdrop");
                                                $("#idModalReconsideracion").modal('show');
                                            }
                                        </script>
                                        <h:panelGroup rendered="#{!registroController.expediente.indiceReconsideracion and registroController.expediente.version >= 1 and registroController.expediente.general != 'C' and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo}">
                                            <a class="btn btn-cyan" onclick="modalReconsideracion()">
                                                <span class="fas fa-pencil-alt"  style="color: white"/> <span style="color: white">registrar reconsideración</span>
                                            </a>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{registroController.expediente.indiceReconsideracion and registroController.expediente.version >= 1 and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo}">
                                            <a class="btn btn-cyan" onclick="modalReconsideracion()">
                                                <span class="fa fa-search" style="color: white"/> <span style="color: white">ver / modificar reconsideración</span>
                                            </a>
                                        </h:panelGroup>
                                    </div>
                                </div>
                                <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                    <div class="form-group row">
                                        <div class="col-4">
                                            <h4 class="card-title">Etapa</h4>
                                        </div>
                                        <div class="col-8">
                                            <div class="btn-group btn-group-justified" role="group">
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" class="btn #{registroController.etapaEstado.verEtapa == 1? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 1}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Calificación
                                                            </c:when>
                                                            <c:otherwise>
                                                                Calificación
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(2)}" class="btn #{registroController.etapaEstado.verEtapa == 2? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 2}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Investigación
                                                            </c:when>
                                                            <c:otherwise>
                                                                Investigación
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(3)}" class="btn #{registroController.etapaEstado.verEtapa == 3? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 3}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Persuasión
                                                            </c:when>
                                                            <c:otherwise>
                                                                Persuasión
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" class="btn #{registroController.etapaEstado.verEtapa == 4? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 4}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Seguimiento
                                                            </c:when>
                                                            <c:otherwise>
                                                                Seguimiento
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-12">
                                                    <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 1}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                    <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 2}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                    <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 3}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                    <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 4}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '03'}">
                                    <div class="form-group row">
                                        <div class="col-4">
                                            <h4 class="card-title">Etapa</h4>
                                        </div>
                                        <div class="col-8">
                                            <div class="btn-group btn-group-justified" role="group">
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" class="btn #{registroController.etapaEstado.verEtapa == 5? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 5}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Calificación
                                                            </c:when>
                                                            <c:otherwise>
                                                                Calificación
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(2)}" class="btn #{registroController.etapaEstado.verEtapa == 6? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 6}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Gestión
                                                            </c:when>
                                                            <c:otherwise>
                                                                Gestión
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                                <div class="btn-group" role="group">
                                                    <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(3)}" class="btn #{registroController.etapaEstado.verEtapa == 7? 'btn-warning' : 'btn-default'}">
                                                        <c:choose>
                                                            <c:when test="${registroController.etapaEstado.verEtapa == 7}">
                                                                <span class="fa fa-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Persuasión
                                                            </c:when>
                                                            <c:otherwise>
                                                                Persuasión
                                                            </c:otherwise>
                                                        </c:choose>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 5}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 6}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                                <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 7}" style="color: #878787" value="quedan #{registroController.expedienteTiempo.diasRestante} días"/>
                                            </div>
                                        </div>
                                    </div>      
                                </h:panelGroup>

                                <div class="form-group row">
                                    <div class="col-4">
                                        <h4  class="card-title"><h:outputText rendered="#{registroController.etapaEstado.verEtapa != 0 and registroController.etapaEstado.verEtapa != null}" value="Asignar estado:"/></h4>
                                    </div>
                                    <div class="col-8">
                                        <h:panelGroup id="idPanelEstado">
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 1}"  value="#{registroController.expediente.estadoCalificacion}">
                                                <f:selectItems value="#{registroController.listaEstadoCalificacionQueja}"  />
                                            </h:selectOneRadio>
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 2}"  value="#{registroController.expediente.estadoInvestigacion}">
                                                <f:selectItems value="#{registroController.listaEstadoInvestigacionQueja}"  />
                                            </h:selectOneRadio>
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 3}"  value="#{registroController.expediente.estadoPersuacion}">
                                                <f:selectItems value="#{registroController.listaEstadoPersuacionQueja}"  />
                                            </h:selectOneRadio>
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 4}"  value="#{registroController.expediente.estadoSeguimiento}">
                                                <f:selectItems value="#{registroController.listaEstadoSeguimientoQueja}"  />
                                            </h:selectOneRadio>
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 5}"  value="#{registroController.expediente.estadoCalificacion}">
                                                <f:selectItems value="#{registroController.listaEstadoCalificacionPetitorio}"  />
                                            </h:selectOneRadio>
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 6}"  value="#{registroController.expediente.estadoGestion}">
                                                <f:selectItems value="#{registroController.listaEstadoGestionPetitorio}"  />
                                            </h:selectOneRadio>            
                                            <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 7}"  value="#{registroController.expediente.estadoPersuacion}">
                                                <f:selectItems value="#{registroController.listaEstadoPersuacionPetitorio}"  />
                                            </h:selectOneRadio>
                                        </h:panelGroup>
                                    </div> 
                                </div>
                                <div class="form-group row">
                                    <div class="col-6">
                                        <script>
                                            function modalAsignar(data) {
                                                if (data.status === 'success') {
                                                    $("#loadModal").modal('hide');
                                                    $('body').removeClass('modal-open');
                                                    $(".modal-backdrop").removeClass("modal-backdrop");
                                                    $("#idModalAsignar").modal('show');
                                                }
                                            }
                                        </script> 
                                        <h:panelGroup rendered="#{registroController.usuarioSession.codigoOD == '20000' and registroController.expediente.general != 'C' and registroController.etapaEstado.verEtapa > 0}">
                                            <a class="btn btn-info" jsf:action="#{registroController.extenderPlazo()}">
                                                <span class="fas fa-user" /> Extender plazo
                                            </a>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{(seguridadUtilController.tieneRecurso('REC_EXP015') and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo and registroController.expediente.general != 'C') or   (registroController.expediente.usuarioResponsable == registroController.usuarioSession.codigo and registroController.expediente.general != 'C') or (seguridadUtilController.tieneRecurso('REC_EXP016') and registroController.esSupervisor and registroController.expediente.general != 'C')}">
                                            <a class="btn btn-warning" jsf:action="#{registroController.limpiarModalAsignar()}">
                                                <span class="fas fa-user" /> Asignar Expediente
                                                <f:ajax render="idPanelAsignar" onevent="modalAsignar" />
                                            </a>
                                        </h:panelGroup>

                                        <h:panelGroup id="idPanelAsignar">
                                            <div id="idModalAsignar" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title">Asignar expediente</h4>
                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="form-group">
                                                                <label for="recipient-name" class="control-label">Seleccione Comisionado</label>
                                                                <h:selectOneMenu value="#{registroController.expediente.usuarioAsignado}" class="form-control">
                                                                    <f:selectItems value="#{registroController.listaUsuarioOD}" var="item" itemLabel="#{item.nombre} #{item.apellidoPaterno} #{item.apellidoMaterno}" itemValue="#{item.codigo}" />
                                                                </h:selectOneMenu>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <a class="btn btn-primary" data-dismiss="modal" jsf:action="#{registroController.guardarAsignado()}">
                                                                <span class="fa fa-save"/> Guardar
                                                            </a>
                                                            <a class="btn btn-danger" data-dismiss="modal">
                                                                <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-2">
                                        <h:panelGroup rendered="#{registroController.etapaEstado.verEtapa == 0 or registroController.etapaEstado.verEtapa == null or registroController.expediente.version == 0}">
                                            <h:selectOneMenu value="#{registroController.expediente.tipoClasificion}" class="form-control">
                                                <f:selectItem itemLabel="Seleccione" />
                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}" var="item" itemLabel="#{item.nombreParametro}" itemValue="#{item.valorParametro}" />
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{(registroController.etapaEstado.verEtapa == 1 or registroController.etapaEstado.verEtapa == 5) and seguridadUtilController.tieneRecurso('REC_EXP017')}">
                                            <h:selectOneMenu value="#{registroController.expediente.tipoClasificion}" class="form-control">
                                                <f:selectItem itemLabel="Seleccione" />
                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}" var="item" itemLabel="#{item.nombreParametro}" itemValue="#{item.valorParametro}" />
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{registroController.etapaEstado.verEtapa != 0 and registroController.etapaEstado.verEtapa != null and !seguridadUtilController.tieneRecurso('REC_EXP017')}">
                                            <h:selectOneMenu value="#{registroController.expediente.tipoClasificion}" class="form-control">
                                                <f:selectItem itemLabel="Seleccione3" />
                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}" var="item" itemLabel="#{item.nombreParametro}" itemValue="#{item.valorParametro}" />
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{(registroController.etapaEstado.verEtapa != 1 and registroController.etapaEstado.verEtapa != 5 and registroController.expediente.version != 0 and registroController.expediente.version != null) and seguridadUtilController.tieneRecurso('REC_EXP017')}">
                                            <h:selectOneMenu value="#{registroController.expediente.tipoClasificion}" class="form-control">
                                                <f:selectItem itemLabel="Seleccione4" />
                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}" var="item" itemLabel="#{item.nombreParametro}" itemValue="#{item.valorParametro}" />
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                    </div>
                                    <div class="col-3">    
                                        <h:panelGroup rendered="#{(registroController.etapaEstado.verEtapa == 1 or registroController.etapaEstado.verEtapa == 5) and seguridadUtilController.tieneRecurso('REC_EXP017') and registroController.esSupervisor and registroController.expediente.general != 'C'}">
                                            <a class="btn btn-warning" jsf:action="#{registroController.guardarVersionSupervisor(0)}">
                                                <span class="fa fa-save"/> Cambiar tipo
                                            </a>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{seguridadUtilController.tieneRecurso('REC_EXP018') and registroController.expediente.general == 'C'}">
                                            <a class="btn btn-danger" jsf:action="#{registroController.guardarVersionSupervisor(1)}">
                                                <span class="fa fa-save"/>Levantar conclusión
                                            </a>
                                        </h:panelGroup>
                                    </div>
                                    <div class="col-7" style="text-align: right">

                                        &#160;&#160;        
                                        <h:panelGroup rendered="#{(registroController.expediente.general != 'C' and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo) or (registroController.expediente.usuarioRegistro == null) }">
                                            <a class="btn btn-primary" jsf:action="#{registroController.guardarVersion()}">
                                                <span class="fas fa-save" /> Guardar
                                            </a>
                                        </h:panelGroup>
                                        &#160;&#160;
                                        <h:panelGroup id="idPanel2" rendered="#{registroController.expediente.id != null and registroController.expediente.version > 0 and registroController.expediente.general != 'C' and registroController.verBotonRegistrarExpediente and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo and registroController.expediente.tipoClasificion != '02'}">
                                            <a class="btn btn-warning" onclick="confirmar3()">
                                                <span class="fas fa-save" style="color: white" /> <span style="color: white">Concluir Etapa</span>
                                            </a>
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{registroController.expediente.id != null and registroController.expediente.version > 0 and registroController.expediente.general != 'C' and registroController.verBotonRegistrarExpediente and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo and registroController.expediente.tipoClasificion == '02'}">
                                            <a class="btn btn-warning" onclick="confirmar3()">
                                                <span class="fas fa-save" style="color: white"/> <span style="color: white">Concluir Consulta</span>
                                            </a>
                                        </h:panelGroup>
                                        &#160;&#160;
                                        <h:panelGroup rendered="#{registroController.expediente.id != null and registroController.expediente.version > 0 and registroController.expediente.general != 'C' and registroController.verBotonRegistrarExpediente and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo and !registroController.expediente.indicadorOficio}">
                                            <a class="btn btn-danger" onclick="confirmar0()" >
                                                <span class="fas fa-save" style="color: white"/> <span style="color: white">Desistir</span>
                                            </a>
                                        </h:panelGroup>
                                        
                                        &#160;&#160;
                                        <h:panelGroup rendered="#{registroController.expediente.id != null and registroController.expediente.version > 0 and registroController.expediente.general != 'C' and registroController.expediente.usuarioRegistro == registroController.usuarioSession.codigo}">
                                            <a class="btn btn-info" onclick="confirmar6()" >
                                                <span class="fas fa-save" style="color: white"/> <span style="color: white">Conclusión anticipada</span>
                                            </a>
                                        </h:panelGroup>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title m-b-40">Secciones del expediente</h4>
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item"> 
                                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home5" role="tab" aria-controls="home5" aria-expanded="true" jsf:action="#{registroController.datosGeneralesExpediente()}">
                                            <span class="hidden-sm-up">
                                                <i class="ti-home"></i>
                                            </span> 
                                            <span class="hidden-xs-down">Datos generales</span>
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile5" role="tab" aria-controls="profile" jsf:rendered="#{registroController.etapaEstado.idEtapa > 0}" jsf:action="#{registroController.cargarExpedienteGestionLista()}">
                                            <span class="hidden-sm-up">
                                                <i class="ti-user"></i>
                                            </span> 
                                            <span class="hidden-xs-down">Gestiones externas</span>
                                        </a>
                                    </li>
                                    <li class="nav-item"> 
                                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile5" role="tab" aria-controls="profile" jsf:rendered="#{registroController.etapaEstado.idEtapa > 0}" jsf:action="#{registroController.inicioAcciones()}">
                                            <span class="hidden-sm-up">
                                                <i class="ti-user"></i>
                                            </span> 
                                            <span class="hidden-xs-down">Gestiones internas</span>
                                        </a>
                                    </li>
                                    <li class="nav-item"> 
                                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile5" role="tab" aria-controls="profile" jsf:action="#{registroController.cargarHistorial()}">
                                            <span class="hidden-sm-up">
                                                <i class="ti-user"></i>
                                            </span> 
                                            <span class="hidden-xs-down">Historial</span>
                                        </a>
                                    </li>
                                    <li class="nav-item"> 
                                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile5" role="tab" aria-controls="profile"  jsf:rendered="#{registroController.etapaEstado.idEtapa > 0}" jsf:action="#{registroController.cargarCompartir()}">
                                            <span class="hidden-sm-up">
                                                <i class="ti-user"></i>
                                            </span> 
                                            <span class="hidden-xs-down">Compartir</span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content tabcontent-border p-20" id="myTabContent">
                                    <div role="tabpanel" class="tab-pane fade show active" id="home5" aria-labelledby="home-tab">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="col-12">
                                                            <h4 class="card-title">Forma de ingreso</h4>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Fecha de Ingreso</label>
                                                                <div class="col-sm-8">
                                                                    <h:inputText readonly="true" value="#{registroController.expediente.fechaIngreso}" class="form-control"  autocomplete="off" maxlength="40">
                                                                        <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                                                    </h:inputText>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Canal de ingreso</label>
                                                                <div class="col-sm-8">
                                                                    <h:selectOneMenu value="#{registroController.expediente.tipoIngreso}" class="form-control">
                                                                        <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                                                        <f:selectItems value="#{listasComunesController.buscarExpedienteTipoIngreso(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                    </h:selectOneMenu>
                                                                </div>
                                                            </div>
                                                            <br/>
                                                            <script>
                                                                $(function () {
                                                                #{registroController.cadenaEtiquetaAutocomplete}
                                                                    $("#etiqueta").autocomplete({
                                                                        minLength: 3,
                                                                        source: projects,
                                                                        focus: function (event, ui) {
                                                                            $("#etiqueta").val(ui.item.label);
                                                                            return false;
                                                                        },
                                                                        select: function (event, ui) {
                                                                            $("#etiqueta").val(ui.item.label);
                                                                            $("#idEtiqueta").val(ui.item.value);

                                                                            return false;
                                                                        }
                                                                    })
                                                                            .data("ui-autocomplete")._renderItem = function (ul, item) {
                                                                        return $("<li/>")
                                                                                .append("<a>" + item.label + "<br/>" + item.desc + "</a>")
                                                                                .appendTo(ul);
                                                                    };
                                                                });
                                                            </script>
                                                            <h4 class="card-title">Clasificación temática</h4>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Buscador</label>
                                                                <div class="col-sm-8" style="text-align: right">
                                                                    <a jsf:rendered="#{registroController.expediente.numero != null and registroController.expediente.numero != '' and registroController.expediente.tipoClasificion == '01'}" style="cursor: pointer" jsf:action="#{registroController.limpiarModalBusquedaClasificacion()}">
                                                                        <span class="fas fa-search" style="font-size: large" />
                                                                        <f:ajax render="idPanelModalBusquedaClasificacion" onevent="openModalBusquedaClasificacion" />
                                                                    </a>
                                                                    <script>
                                                                        function openModalBusquedaClasificacion(data) {
                                                                            if (data.status === 'success') {
                                                                                $("#loadModal").modal('hide');
                                                                                $('body').removeClass('modal-open');
                                                                                $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                $("#idModalBusquedaClasificacion").modal('show');
                                                                            }
                                                                        }
                                                                    </script>
                                                                    <h:panelGroup id="idPanelModalBusquedaClasificacion">
                                                                        <div id="idModalBusquedaClasificacion" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                            <div class="modal-dialog">
                                                                                <div class="modal-content">
                                                                                    <div class="modal-header">
                                                                                        <h4 class="modal-title">Búsqueda de clasificación</h4>
                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                                    </div>
                                                                                    <div class="modal-body">
                                                                                        <h:panelGroup id="idPanelBusquedaClasificacion">
                                                                                            <div class="form-group row">
                                                                                                <label for="fname" class="col-sm-2 text-right control-label col-form-label">Buscar</label>
                                                                                                <div class="col-sm-7">
                                                                                                    <input type="text" autocomplete="off" jsf:value="#{registroController.expedienteClasificacionBusqueda.nombre}" maxlength="100" class="form-control" />
                                                                                                </div>
                                                                                                <div class="col-sm-3">
                                                                                                    <a class="btn btn-primary" jsf:action="#{registroController.buscarClasificacion(1)}">
                                                                                                        <span class="fas fa-search" />
                                                                                                        <f:ajax render="idPanelBusquedaClasificacion" execute="idPanelBusquedaClasificacion" /> Buscar
                                                                                                    </a>
                                                                                                </div>
                                                                                            </div>
                                                                                            <br/>
                                                                                            <c:forEach var="nivel" items="#{registroController.listaExpedienteNivelModal}">
                                                                                                <div class="form-group row">

                                                                                                    <div class="col-11" style="text-align: left">
                                                                                                        <h:outputText value="#{nivel.primerNivel}"/>
                                                                                                        <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.segundoNivel != null}"/>
                                                                                                        <h:outputText value="#{nivel.segundoNivel}" />
                                                                                                        <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.tercerNivel != null}"/>
                                                                                                        <h:outputText value="#{nivel.tercerNivel}" />
                                                                                                        <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.cuartoNivel != null}"/>
                                                                                                        <h:outputText value="#{nivel.cuartoNivel}" />
                                                                                                        <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.quintoNivel != null}"/>
                                                                                                        <h:outputText value="#{nivel.quintoNivel}" />
                                                                                                        <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.sextoNivel != null}"/>
                                                                                                        <h:outputText value="#{nivel.sextoNivel}" />
                                                                                                    </div>
                                                                                                    <div class="col-1">
                                                                                                        <a jsf:action="#{registroController.guardarNivel(nivel)}">
                                                                                                            <span class="fas fa-plus"/>
                                                                                                        </a>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </c:forEach>
                                                                                            <br/>
                                                                                            <ul class="pagination">
                                                                                                <li class="paginate_button page-item previous" id="file_export_previous">
                                                                                                    <a jsf:action="#{registroController.buscarClasificacion(registroController.nroPaginaModal -1)}" jsf:rendered="#{!empty registroController.listaExpedienteNivelModal}" aria-controls="file_export" data-dt-idx="0" tabindex="0" class="page-link">Anterior
                                                                                                        <f:ajax render="idPanelBusquedaClasificacion" />
                                                                                                    </a>
                                                                                                </li>
                                                                                                <li class="paginate_button page-item next" id="file_export_next">
                                                                                                    <a jsf:action="#{registroController.buscarClasificacion(registroController.nroPaginaModal +1)}" jsf:rendered="#{!empty registroController.listaExpedienteNivelModal}" aria-controls="file_export" data-dt-idx="7" tabindex="0" class="page-link">Siguiente
                                                                                                        <f:ajax render="idPanelBusquedaClasificacion" />
                                                                                                    </a>
                                                                                                </li>
                                                                                            </ul>                                                                   
                                                                                        </h:panelGroup>
                                                                                    </div>
                                                                                    <div class="modal-footer">
                                                                                        <a class="btn btn-danger" data-dismiss="modal">
                                                                                            <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label" style="color: red">Ámbito</label>
                                                                <div class="col-sm-8" style="text-align: right">
                                                                    <h:panelGroup rendered="#{registroController.expediente.numero != null and registroController.expediente.numero != ''}" style="text-align: right">
                                                                        <a class="btn btn-warning" jsf:rendered="#{registroController.expediente.numero != null}" jsf:action="#{registroController.guardarNivel()}">
                                                                            <span class="fas fa-sync" /> Agregar/Actualizar
                                                                        </a>
                                                                    </h:panelGroup>
                                                                </div>
                                                            </div>
                                                            <h:panelGroup id="idPanelClasificacionTem">
                                                                <h:panelGroup id="idClasificador">
                                                                    <div class="form-group row">
                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Tema</label>
                                                                        <div class="col-sm-8" style="text-align: right">
                                                                            <h:selectOneMenu value="#{registroController.expedienteNivel.idPrimerNivel}" id="idSelectPrimerNivel" class="form-control">
                                                                                <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                <f:selectItems value="#{registroController.listaClasificacionPrimerLevel}" />
                                                                                <f:ajax listener="#{registroController.cargarNivelesClasificacion(registroController.expedienteNivel.idPrimerNivel, 2)}" render="idClasificador" />
                                                                            </h:selectOneMenu>
                                                                        </div>
                                                                    </div>
                                                                    <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01' or registroController.expedienteNivel.idPrimerNivel == 807}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Sub tema</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <h:selectOneMenu id="idSelectSegundoNivel" value="#{registroController.expedienteNivel.idSegundoNivel}" class="form-control">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                    <f:selectItems value="#{registroController.listaClasificacionSegundoLevel}" />
                                                                                    <f:ajax listener="#{registroController.cargarNivelesClasificacion(registroController.expedienteNivel.idSegundoNivel, 3)}"  
                                                                                            render="idClasificador" />
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                    <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Tercer nivel</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <h:selectOneMenu id="idSelectTercerNivel" value="#{registroController.expedienteNivel.idTercerNivel}" class="form-control">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                    <f:selectItems value="#{registroController.listaClasificacionTercerLevel}" />
                                                                                    <f:ajax listener="#{registroController.cargarNivelesClasificacion(registroController.expedienteNivel.idTercerNivel, 4)}" render="idClasificador" />
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                    <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Cuarto nivel</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <h:selectOneMenu id="idSelectCuartoNivel" value="#{registroController.expedienteNivel.idCuartoNivel}" class="form-control">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                    <f:selectItems value="#{registroController.listaClasificacionCuartoLevel}" />
                                                                                    <f:ajax listener="#{registroController.cargarNivelesClasificacion(registroController.expedienteNivel.idCuartoNivel, 5)}" render="idClasificador" />
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                    <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Quinto nivel</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <h:selectOneMenu id="idSelectQuintoNivel" value="#{registroController.expedienteNivel.idQuintoNivel}" class="form-control">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                    <f:selectItems value="#{registroController.listaClasificacionQuintoLevel}" />
                                                                                    <f:ajax listener="#{registroController.cargarNivelesClasificacion(registroController.expedienteNivel.idQuintoNivel, 6)}" render="idClasificador" />
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                    <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Sexto nivel</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <h:selectOneMenu id="idSelectSextoNivel" value="#{registroController.expedienteNivel.idSextoNivel}" class="form-control">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                                    <f:selectItems value="#{registroController.listaClasificacionSextoLevel}" />
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </h:panelGroup>
                                                                </h:panelGroup>
                                                                <br/><br/>
                                                                <h4 class="card-title">Clasificación</h4>
                                                                <div class="form-group row">
                                                                    <div class="col-sm-12" style="text-align: left">
                                                                        <c:forEach var="nivel" items="#{registroController.expediente.listaExpedienteNivel}">
                                                                            <div class="row">
                                                                                <div class="col-1">
                                                                                    <a onclick="confirmar4#{nivel.id}()">
                                                                                        <span class="fas fa-times" style="color: red;"/>
                                                                                    </a>
                                                                                    <gc:confirmSubmit classGC="confirmacion4#{nivel.id}" bean="#{registroController.inactivarNivel(nivel)}" mensaje="Está seguro de eliminar la clasificación?"/>
                                                                                </div>
                                                                                <div class="col-11">
                                                                                    <div class="alert alert-success">
                                                                                        <script>
                                                                                            function confirmar4#{nivel.id}() {
                                                                                                $(".confirmacion4#{nivel.id}").modal('show');
                                                                                            }
                                                                                        </script>

                                                                                        <a jsf:action="#{registroController.editarNivel(nivel)}" >
                                                                                            <span class="fas fa-pencil-alt"/>
                                                                                            <f:ajax render="idClasificador" />
                                                                                        </a>
                                                                                        <h:outputText value="#{nivel.primerNivel}"/>
                                                                                        <h:outputText style="color: red; font-weight: bold;" value=" > " rendered="#{nivel.segundoNivel != null}"/>
                                                                                        <h:outputText value="#{nivel.segundoNivel}" />
                                                                                        <h:outputText style="color: red; font-weight: bold;" value=" > " rendered="#{nivel.tercerNivel != null}"/>
                                                                                        <h:outputText value="#{nivel.tercerNivel}" />
                                                                                        <h:outputText style="color: red; font-weight: bold;" value=" > " rendered="#{nivel.cuartoNivel != null}"/>
                                                                                        <h:outputText value="#{nivel.cuartoNivel}" />
                                                                                        <h:outputText style="color: red; font-weight: bold;" value=" > " rendered="#{nivel.quintoNivel != null}"/>
                                                                                        <h:outputText value="#{nivel.quintoNivel}" />
                                                                                        <h:outputText style="color: red; font-weight: bold;" value=" > " rendered="#{nivel.sextoNivel != null}"/>
                                                                                        <h:outputText value="#{nivel.sextoNivel}" />
                                                                                        <a jsf:action="#{registroController.cargarSegundaClasificacion(nivel.id, nivel.idPrimerNivel)}" style="font-size: 1.2em">
                                                                                            <span class="fas fa-plus"/>
                                                                                            <f:ajax render="idPanelSegundaClasificacion" onevent="openModalSegundaClasificacion" />
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>


                                                                            <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01' and nivel.indicadorSegundoTipo == 'S'}">
                                                                                <h:dataTable value="#{nivel.listaClasificacionTipo}" var="cla" class="table table-active">
                                                                                    <h:column>
                                                                                        <f:facet name="header">Tipo</f:facet>
                                                                                        <h:outputText value="#{cla.nombrePadre}" />
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Estado</f:facet>
                                                                                        <h:outputText value="#{cla.detalle}" />
                                                                                    </h:column>
                                                                                </h:dataTable>

                                                                            </h:panelGroup>
                                                                        </c:forEach>
                                                                    </div>
                                                                </div>
                                                            </h:panelGroup>
                                                            <h:panelGroup id="idPanelSegundaClasificacion">
                                                                <div id="idModalSegundaClasificacion" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                    <div class="modal-dialog">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h4 class="modal-title">Tipo de clasificación</h4>
                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                            </div>
                                                                            <div class="modal-body">
                                                                                <h:panelGroup id="idPanelSegundaSeleccion">
                                                                                    <h:messages />
                                                                                    <div class="form-group row">
                                                                                        <label for="fname" class="col-sm-3 text-right control-label col-form-label">Tipo</label>
                                                                                        <div class="col-sm-9" style="text-align: right">
                                                                                            <script>
                                                                                                $(document).ready(function () {
                                                                                                    $("#idSelectSegundaClasificacion").change(function () {
                                                                                                        $("#idSegundaClasificacion").val($(this).val());
                                                                                                    });
                                                                                                });
                                                                                            </script>
                                                                                            <input type="hidden" jsf:value="#{registroController.idSegundaClasificacion}" id="idSegundaClasificacion" />
                                                                                            <select id="idSelectSegundaClasificacion" class="form-control">
                                                                                                <option class="classItemGroup" value="0">Seleccione</option>
                                                                                                <c:forEach var="cabecera" items="#{registroController.listadoClasificacionTipo}">
                                                                                                    <optgroup class="classOutGroup" label="#{cabecera.titulo}">
                                                                                                        <c:forEach var="ite" items="#{cabecera.items}">
                                                                                                            <option class="classItemGroup" value="#{ite.id}">#{ite.detalle}</option>
                                                                                                        </c:forEach>
                                                                                                    </optgroup>    
                                                                                                </c:forEach>
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group row">
                                                                                        <div class="col-sm-12" >
                                                                                            <div class="table-responsive">
                                                                                                <h:dataTable value="#{registroController.listaExpedienteClasificacion}" var="ec" id="datableSegundaSeleccion" class="table table-hover">
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Tipo</f:facet>
                                                                                                        <h:outputText value="#{ec.nombrePadre}" />
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Cabecera</f:facet>
                                                                                                        <h:outputText value="#{ec.detalle}" />
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Eliminar</f:facet>
                                                                                                        <a jsf:action="#{registroController.removeSegundaClasificacion(ec)}">
                                                                                                            <span class="fas fa-times" style="color: red" />
                                                                                                        </a>
                                                                                                    </h:column>
                                                                                                </h:dataTable>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </h:panelGroup>
                                                                            </div>
                                                                            <div class="modal-footer">

                                                                                <a class="btn btn-danger" data-dismiss="modal">
                                                                                    <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                                                </a>
                                                                                &#160;&#160;&#160;
                                                                                <a class="btn btn-primary" jsf:action="#{registroController.addSegundaClasificacion()}" >
                                                                                    <span class="fas fa-save" />Guardar
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <script>
                                                                    function openModalSegundaClasificacion(data) {
                                                                        if (data.status === 'success') {
                                                                            $("#loadModal").modal('hide');
                                                                            $('body').removeClass('modal-open');
                                                                            $(".modal-backdrop").removeClass("modal-backdrop");
                                                                            $("#idModalSegundaClasificacion").modal('show');
                                                                        }
                                                                    }
                                                                </script>
                                                            </h:panelGroup>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Etiquetas</label>
                                                                <div class="col-sm-7" style="text-align: right">
                                                                    <div class="form-group has-feedback" style="margin: auto">
                                                                        <input type="text" id="etiqueta" jsf:value="#{registroController.expediente.nombreEtiqueta}" placeholder="Ingrese Etiqueta" class="form-control"/>
                                                                        <input type="hidden" id="idEtiqueta" jsf:value="#{registroController.expediente.idEtiqueta}" />
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-1" style="text-align: right">
                                                                    <a jsf:action="#{registroController.agregarEtiqueta()}">
                                                                        <span class="fas fa-plus"/>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <div class="col-sm-12">
                                                                    <c:forEach var="x" items="#{registroController.listaEtiquetasSeleccionadas}">
                                                                        <div class="form-group row">
                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">#{x.nombreParametro}</label>
                                                                            <div class="col-sm-8" style="text-align: right">
                                                                                <a jsf:action="#{registroController.removeEtiqueta(x)}">
                                                                                    <span class="fas fa-times"  style="color: red"/>
                                                                                </a>
                                                                            </div>
                                                                        </div>         
                                                                    </c:forEach>                                                                           
                                                                </div>
                                                            </div>
                                                            <br/><br/>
                                                            <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '02'}">
                                                                <h4 class="card-title">Recurrente</h4>
                                                            </h:panelGroup>
                                                            <h:panelGroup rendered="#{!registroController.expediente.indicadorOficio and registroController.expediente.tipoClasificion != '02'}">
                                                                <h4 class="card-title">Recurrentes y afectados</h4>
                                                            </h:panelGroup>
                                                            <h:panelGroup rendered="#{registroController.expediente.indicadorOficio and registroController.expediente.tipoClasificion != '02'}">
                                                                <h4 class="card-title">Afectados</h4>
                                                            </h:panelGroup>
                                                            <h:panelGroup id="idPanelRecurrentes">
                                                                <h:panelGroup rendered="#{registroController.expediente.tipoClasificion != '02'}">
                                                                    <div class="form-group row">
                                                                        <div class="col-sm-5">
                                                                            <input type="text" id="idBusquedaPersona" name="nombreActor" placeholder="Ingrese nombre/documento de la persona" jsf:value="#{registroController.persona.cadenaPersona}" class="form-control"/>
                                                                        </div>
                                                                        <div class="col-sm-3">
                                                                            <a href="#" class="trigger btn btn-warning" jsf:action="#{registroController.cargarPopoverPersona(1)}">
                                                                                <span class="fas fa-search"/> Buscar
                                                                                <f:ajax render="idPanelRecurrentes" execute="idPanelRecurrentes" onevent="modalBusquedaPersona"/>
                                                                            </a>
                                                                            <div id="idModalBusquedaPersona" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <h4 class="modal-title">Busqueda de personas</h4>
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="table-responsive">
                                                                                                <h:dataTable value="#{registroController.personasPopover}" var="personas" id="idDatableBusquedaPerson" class="table table-striped">
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                                        <h:outputText value="#{personas.nombre} #{personas.apellidoPat} #{personas.apellidoMat}"/>
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Número documento</f:facet>
                                                                                                        <h:outputText value="#{personas.numeroDocumento}"/>
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <a jsf:action="#{registroController.addPersona(personas)}">
                                                                                                            <span style="font-size: medium" class="fas fa-share-square"></span>  
                                                                                                        </a>
                                                                                                    </h:column>
                                                                                                </h:dataTable>
                                                                                                <ul class="pagination">
                                                                                                    <li class="paginate_button page-item previous" id="file_export_previous">
                                                                                                        <a jsf:action="#{registroController.cargarPopoverPersona(registroController.nroPaginaPersona -1)}" jsf:rendered="#{!empty registroController.personasPopover}" aria-controls="file_export" data-dt-idx="0" tabindex="0" class="page-link">Anterior
                                                                                                            <f:ajax render="idDatableBusquedaPerson" />
                                                                                                        </a>
                                                                                                    </li>
                                                                                                    <li class="paginate_button page-item next" id="file_export_next">
                                                                                                        <a jsf:action="#{registroController.cargarPopoverPersona(registroController.nroPaginaPersona +1)}" jsf:rendered="#{!empty registroController.personasPopover}" aria-controls="file_export" data-dt-idx="7" tabindex="0" class="page-link">Siguiente
                                                                                                            <f:ajax render="idDatableBusquedaPerson" />
                                                                                                        </a>    
                                                                                                    </li>
                                                                                                </ul>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer">
                                                                                            <a class="btn btn-danger" data-dismiss="modal">
                                                                                                <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <script>
                                                                                function modalBusquedaPersona() {
                                                                                    $("#loadModal").modal('hide');
                                                                                    $('body').removeClass('modal-open');
                                                                                    $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                    $("#idModalBusquedaPersona").modal('show');
                                                                                }
                                                                            </script>
                                                                        </div>
                                                                        <div class="col-sm-4">
                                                                            <a style="text-decoration:none" class="btn btn-primary" jsf:action="#{registroController.cargarModalActor()}" jsf:rendered="#{registroController.expediente.general != 'C'}">
                                                                                <span class="fas fa-user"/> Nuevo
                                                                                <f:ajax render="idPanelAgregarPersona" onevent="openModalNuevaPersona"/> 
                                                                            </a>
                                                                            <script>
                                                                                function openModalNuevaPersona(data) {
                                                                                    if (data.status === 'success') {
                                                                                        $("#loadModal").modal('hide');
                                                                                        $('body').removeClass('modal-open');
                                                                                        $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                        $("#idModalNuevaPersona").modal('show');
                                                                                    }
                                                                                }
                                                                            </script>

                                                                            <h:panelGroup id="idPanelAgregarPersona">
                                                                                <div id="idModalNuevaPersona" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                                    <div class="modal-dialog">
                                                                                        <div class="modal-content">
                                                                                            <div class="modal-header">
                                                                                                <div class="row">
                                                                                                    <div class="col-6">
                                                                                                        <h4 class="modal-title">Registro de Persona</h4>
                                                                                                    </div>
                                                                                                    <div class="col-6">
                                                                                                        <a class="btn btn-danger" data-dismiss="modal">
                                                                                                            <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                                                                        </a>&#160;&#160;&#160;
                                                                                                        <a jsf:action="#{registroController.guardarVincularListaPersona()}" class="btn btn-info">
                                                                                                            <span class="fas fa-save" /> Guardar
                                                                                                        </a>
                                                                                                    </div>
                                                                                                </div>

                                                                                                <div>

                                                                                                </div>

                                                                                            </div>
                                                                                            <div class="modal-body">
                                                                                                <h:panelGroup id="idPanelTipoPersona">
                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Tipo</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <h:selectOneRadio value="#{registroController.persona.tipo}">
                                                                                                                <f:selectItem itemLabel="Persona" itemValue="PER"/>
                                                                                                                <f:selectItem itemLabel="Organización" itemValue="ORG"/>
                                                                                                                <f:ajax render="idPanelTipoPersona" execute="idPanelTipoPersona" />
                                                                                                            </h:selectOneRadio>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Tipo de documento</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <h:selectOneMenu value="#{registroController.persona.tipoDocumento}" class="form-control">
                                                                                                                    <f:selectItems value="#{listasComunesController.buscarTipoDocumento(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                                </h:selectOneMenu>

                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>

                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Número documento</label>
                                                                                                            <div class="col-sm-5">
                                                                                                                <input type="text" placeholder="Número documento" jsf:value="#{registroController.persona.numeroDocumento}" maxlength="8"  class="form-control"/>
                                                                                                            </div>
                                                                                                            <div class="col-sm-3">
                                                                                                                <a class="btn btn-warning" jsf:action="#{registroController.consultarReniec()}">
                                                                                                                    <span class="far fa-share-square" /> Reniec
                                                                                                                    <f:ajax render="idPanelTipoPersona" execute="idPanelTipoPersona"/>
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Nacionalidad</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <h:selectOneMenu value="#{registroController.persona.nacionalidad}" class="form-control">
                                                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="0"/>
                                                                                                                    <f:selectItems value="#{listasComunesController.listaListaNacionalidades(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                                </h:selectOneMenu>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup>
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Nombre</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <input type="text" placeholder="Nombre" jsf:value="#{registroController.persona.nombre}" maxlength="200"  class="form-control"/>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'ORG'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Contacto</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <input type="text" placeholder="Contacto" jsf:value="#{registroController.persona.contacto}" maxlength="50" class="form-control"/>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Apellido paterno</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <input type="text" placeholder="Apellido Paterno" jsf:value="#{registroController.persona.apellidoPat}" maxlength="100" class="form-control"/>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Apellido Materno</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <input type="text" placeholder="Apellido Materno" jsf:value="#{registroController.persona.apellidoMat}" maxlength="100" class="form-control"/>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Fecha de nacimiento</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <!-- <gc:calendar value="#{registroController.persona.fechaNacimiento}"/> -->
                                                                                                                <input type="date" jsf:value="#{registroController.persona.fechaNacimiento}"  placeholder="Fecha"  class="form-control">
                                                                                                                    <f:convertDateTime pattern="yyyy-MM-dd" timeZone="America/Lima" />
                                                                                                                </input>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Sexo</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <h:selectOneRadio value="#{registroController.persona.sexo}">
                                                                                                                    <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                                                                                                    <f:selectItem itemLabel="Femenino" itemValue="F"/>
                                                                                                                </h:selectOneRadio>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>    
                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Dirección</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <input type="text" placeholder="Dirección" jsf:value="#{registroController.persona.direccion}"  class="form-control" maxlength="300"/><br/>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <h:panelGroup id="idUbigeoPersona">
                                                                                                        <div class="form-group row">

                                                                                                            <div class="col-sm-4">
                                                                                                                <h:selectOneMenu value="#{registroController.persona.idDepartamento}"  class="form-control">
                                                                                                                    <f:selectItem itemLabel="Departamento" itemValue="0"/>
                                                                                                                    <f:selectItems value="#{listasComunesController.listaDepartamentos(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                                    <f:ajax listener="#{registroController.comboProvincia()}" render="cmbProvincia1"/>
                                                                                                                </h:selectOneMenu>
                                                                                                            </div>
                                                                                                            <div class="col-sm-4">
                                                                                                                <h:selectOneMenu id="cmbProvincia1" value="#{registroController.persona.idProvincia}"  class="form-control">
                                                                                                                    <f:selectItem itemLabel="Provincia" itemValue="0"/>
                                                                                                                    <f:selectItems value="#{registroController.listaProvincia}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                                                    <f:ajax listener="#{registroController.comboDistrito()}" render="cmbDistrito1"/>
                                                                                                                </h:selectOneMenu>
                                                                                                            </div>
                                                                                                            <div class="col-sm-4">
                                                                                                                <h:selectOneMenu id="cmbDistrito1" value="#{registroController.persona.idDistrito}"  class="form-control">
                                                                                                                    <f:selectItem itemLabel="Distrito" itemValue="0"/>
                                                                                                                    <f:selectItems value="#{registroController.listaDistrito}" var="y" itemLabel="#{y.value} #{y.label}" itemValue="#{y.id}" />
                                                                                                                </h:selectOneMenu>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup> 
                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Lengua materna</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <h:selectOneMenu value="#{registroController.persona.tipoLengua}" class="form-control">
                                                                                                                <f:selectItem itemLabel="Seleccione" itemValue="0"/>
                                                                                                                <f:selectItems value="#{listasComunesController.listaLenguaMaterna(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                            </h:selectOneMenu>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Población indígena u originarios</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <h:selectOneMenu value="#{registroController.persona.tipoPueblo}"  class="form-control">
                                                                                                                <f:selectItem itemLabel="Seleccione" itemValue="0"/>
                                                                                                                <f:selectItems value="#{listasComunesController.listaPuebloIndigena(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                            </h:selectOneMenu>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">¿es persona con discapacidad?</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <h:selectBooleanCheckbox value="#{registroController.persona.indicadorDiscapacitado}" />
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>
                                                                                                    <h:panelGroup rendered="#{registroController.persona.tipo == 'PER'}">
                                                                                                        <div class="form-group row">
                                                                                                            <label for="fname" class="col-sm-4 text-right control-label col-form-label">Correo</label>
                                                                                                            <div class="col-sm-8">
                                                                                                                <input type="text" placeholder="Correo electrónico" jsf:value="#{registroController.persona.email}"  class="form-control" maxlength="100"/>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </h:panelGroup>

                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Teléfono</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <input type="text" placeholder="Telefono 1" jsf:value="#{registroController.persona.telefono1}" maxlength="50"  class="form-control" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="form-group row">
                                                                                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Lugar de notificación</label>
                                                                                                        <div class="col-sm-8">
                                                                                                            <input type="text" placeholder="Lugar de notificación" jsf:value="#{registroController.persona.direccionNotifica}" maxlength="500"  class="form-control" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </h:panelGroup>
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </h:panelGroup>
                                                                        </div>
                                                                    </div>
                                                                </h:panelGroup>
                                                                <div class="form-group row">
                                                                    <div class="col-sm-12">
                                                                        <div class="table-responsive">
                                                                            <h:dataTable value="#{registroController.personasSeleccionadas}" var="per" class="table table-striped" rendered="#{registroController.personasSeleccionadas.size() > 0}" binding="#{rowIn}">
                                                                                <h:column>
                                                                                    <f:facet name="header">Reser.</f:facet>
                                                                                    <h:selectBooleanCheckbox id="idCheckbox" value="#{per.indicadorReserva}" />
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Nombre</f:facet>
                                                                                    <h:outputText value="#{per.persona.nombre} #{per.persona.apellidoPat} #{per.persona.apellidoMat}"/>
                                                                                    <br/><br/>
                                                                                    <h:outputText rendered="#{per.persona.tipo == 'ORG'}" class="text-bold" value="Contacto:"/>
                                                                                    <h:outputText rendered="#{per.persona.tipo == 'ORG'}" style="vertical-align: bottom" value="#{per.contacto}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Documento</f:facet>
                                                                                    <h:outputText value="#{per.persona.numeroDocumento}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <h:selectOneMenu rendered="#{!registroController.expediente.indicadorOficio and registroController.expediente.tipoClasificion != '02'}" value="#{per.tipo}" class="form-control">
                                                                                        <f:selectItems value="#{listasComunesController.buscarExpedienteTipoActor(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                    </h:selectOneMenu>
                                                                                    <h:selectOneMenu rendered="#{registroController.expediente.indicadorOficio}" value="#{per.tipo}" class="form-control">
                                                                                        <f:selectItem itemLabel="Afectado" itemValue="03" />
                                                                                    </h:selectOneMenu>
                                                                                    <h:selectOneMenu rendered="#{!registroController.expediente.indicadorOficio and registroController.expediente.tipoClasificion == '02'}" value="#{per.tipo}" class="form-control">
                                                                                        <f:selectItem itemLabel="Recurrente" itemValue="01" />
                                                                                    </h:selectOneMenu>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <script>
                                                                                        function confirmar4#{rowIn.rowIndex+1}() {
                                                                                            $(".confirmacion4#{rowIn.rowIndex+1}").modal('show');
                                                                                        }
                                                                                    </script>
                                                                                    <gc:confirmSubmit bean="#{registroController.removePersona(per)}" classGC="confirmacion4#{rowIn.rowIndex+1}" mensaje="Esta seguro de desvincular a la Persona?" />
                                                                                    <h:panelGroup rendered="#{per.id != null and registroController.expediente.tipoClasificion != '02'}">
                                                                                        <a onclick="confirmar4#{rowIn.rowIndex+1}()">
                                                                                            <span style="color: red" class="fas fa-times"></span>
                                                                                        </a>
                                                                                    </h:panelGroup>
                                                                                    <a jsf:action="#{registroController.seteaPersonaExpediente(per)}" jsf:rendered="#{per.id != null}">
                                                                                        <span class="fas fa-pencil-alt"></span>  
                                                                                        <f:ajax render=":idForm:idPanelRecurrentes" execute=":idForm:idPanelRecurrentes" onevent="openModalEditPersona"/>
                                                                                    </a>
                                                                                </h:column>
                                                                            </h:dataTable>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <script>
                                                                    function openModalEditPersona(data) {
                                                                        if (data.status === 'success') {
                                                                            $("#loadModal").modal('hide');
                                                                            $('body').removeClass('modal-open');
                                                                            $(".modal-backdrop").removeClass("modal-backdrop");
                                                                            $("#idModalEditPersona").modal('show');
                                                                        }
                                                                    }
                                                                </script>
                                                                <div id="idModalEditPersona" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                    <div class="modal-dialog">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <h4 class="modal-title">Modificación de datos</h4>
                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                            </div>
                                                                            <div class="modal-body">

                                                                                <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Nombre</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Nombre" jsf:value="#{registroController.expedientepersonaModalEdit.nombre}" class="form-control" maxlength="50"/>
                                                                                    </div>
                                                                                </div>
                                                                                <h:panelGroup rendered="#{registroController.expedientepersonaModalEdit.tipo == 'PER'}">
                                                                                    <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Apellido Paterno</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Apellido Paterno" jsf:value="#{registroController.expedientepersonaModalEdit.apellidoPat}" class="form-control" maxlength="100"/>
                                                                                    </div>
                                                                                </div>
                                                                                </h:panelGroup>
                                                                                <h:panelGroup rendered="#{registroController.expedientepersonaModalEdit.tipo == 'PER'}">
                                                                                    <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Apellido Materno</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Apellido Materno" jsf:value="#{registroController.expedientepersonaModalEdit.apellidoMat}" class="form-control" maxlength="100"/>
                                                                                    </div>
                                                                                </div>
                                                                                </h:panelGroup>
                                                                                
                                                                                <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Dirección</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Dirección" jsf:value="#{registroController.expedientepersonaModalEdit.direccion}" class="form-control" maxlength="300"/>
                                                                                    </div>
                                                                                </div>
                                                                                <h:panelGroup id="idUbigeoPersona2">
                                                                                    <div class="form-group row">

                                                                                        <div class="col-sm-4">
                                                                                            <h:selectOneMenu value="#{registroController.expedientepersonaModalEdit.idDepartamento}"  class="form-control">
                                                                                                <f:selectItem itemLabel="Departamento" itemValue="0"/>
                                                                                                <f:selectItems value="#{listasComunesController.listaDepartamentos(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                                <f:ajax listener="#{registroController.comboProvinciaId(registroController.expedientepersonaModalEdit.idDepartamento)}" render="idUbigeoPersona2"/>
                                                                                            </h:selectOneMenu>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            <h:selectOneMenu value="#{registroController.expedientepersonaModalEdit.idProvincia}"  class="form-control">
                                                                                                <f:selectItem itemLabel="Provincia" itemValue="0"/>
                                                                                                <f:selectItems value="#{registroController.listaProvincia}"  />
                                                                                                <f:ajax listener="#{registroController.comboDistritoId(registroController.expedientepersonaModalEdit.idProvincia , registroController.expedientepersonaModalEdit.idDepartamento)}" render="cmbDistrito2"/>
                                                                                            </h:selectOneMenu>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            <h:selectOneMenu id="cmbDistrito2" value="#{registroController.expedientepersonaModalEdit.idDistrito}"  class="form-control">
                                                                                                <f:selectItem itemLabel="Distrito" itemValue="0"/>
                                                                                                <f:selectItems value="#{registroController.listaDistrito}" />
                                                                                            </h:selectOneMenu>
                                                                                        </div>
                                                                                    </div>
                                                                                </h:panelGroup>     
                                                                                <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Lengua materna</label>
                                                                                    <div class="col-sm-8">
                                                                                        <h:selectOneMenu value="#{registroController.expedientepersonaModalEdit.tipoLengua}" class="form-control">
                                                                                            <f:selectItem itemLabel="Seleccione" itemValue="0"/>
                                                                                            <f:selectItems value="#{listasComunesController.listaLenguaMaterna(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                        </h:selectOneMenu>
                                                                                    </div>
                                                                                </div>
                                                                                <h:panelGroup rendered="#{registroController.expedientepersonaModalEdit.tipo == 'PER'}">
                                                                                    <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Persona con discapacidad</label>
                                                                                    <div class="col-sm-8">
                                                                                        <h:selectBooleanCheckbox value="#{registroController.expedientepersonaModalEdit.indicadorDiscapacitado}" />
                                                                                    </div>
                                                                                </div>
                                                                                </h:panelGroup>
                                                                                <h:panelGroup rendered="#{registroController.expedientepersonaModalEdit.tipo == 'PER'}">
                                                                                    <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Correo</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Correo electrónico" jsf:value="#{registroController.expedientepersonaModalEdit.email}" maxlength="100"  class="form-control"/>
                                                                                    </div>
                                                                                </div>
                                                                                </h:panelGroup>
                                                                                
                                                                                
                                                                                <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Telefono</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Telefono 1" jsf:value="#{registroController.expedientepersonaModalEdit.telefono1}" maxlength="50"  class="form-control"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="form-group row">
                                                                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Lugar de notificación</label>
                                                                                    <div class="col-sm-8">
                                                                                        <input type="text" placeholder="Lugar de notificación" jsf:value="#{registroController.expedientepersonaModalEdit.direccionNotifica}" maxlength="500"  class="form-control"/>
                                                                                    </div>
                                                                                </div>
                                                                                
                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                
                                                                                <a jsf:action="#{registroController.editaPersonaExpediente()}" class="btn btn-info">
                                                                                    <span class="fas fa-save" /> Guardar
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </h:panelGroup>
                                                            <div class="form-group row">
                                                                <h:outputLabel value="Expediente de oficio:" rendered="#{registroController.expediente.tipoClasificion != '02'}" class="text-bold"/>
                                                                <div class="col-sm-8">
                                                                    <h:selectBooleanCheckbox rendered="#{registroController.expediente.tipoClasificion != '02'}" class="idChecExpedienteOficio" value="#{registroController.expediente.indicadorOficio}" style="background: #EEEEEE; pointer-events:none;"/>
                                                                </div>
                                                            </div>                     
                                                            <br/><br/>   
                                                            <h4 class="card-title">Grupo Vulnerables y Especiales</h4>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Grupos vulnerables</label>
                                                                <div class="col-sm-8">
                                                                    <gc:selectMultiBootstrap idSelect="idSelectGrupoViolencia" idHidden="idSelect1" lista="#{listasComunesController.buscarGrupoVulnerable(false,false,false)}" value="#{registroController.expediente.tipoGrupoVulnerable}"/>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="col-12">
                                                            <h4 class="card-title">Información adicional</h4>
                                                            <h:outputLabel rendered="#{registroController.expediente.tipoClasificion == '02'}" value="Motivo de la consulta:" class="control-label"/>
                                                            <h:outputLabel rendered="#{registroController.expediente.tipoClasificion != '02'}" value="Sumilla:" class="control-label"/>
                                                            <span style="color: red">(max: 4000 carateres)</span> 
                                                            <textarea jsf:rendered="#{registroController.expediente.tipoClasificion == '02'}" rows="6" jsf:value="#{registroController.expediente.sumilla}" style="width: 100%;" maxlength="4000" class="form-control"/>
                                                            <textarea jsf:rendered="#{registroController.expediente.tipoClasificion != '02'}" rows="6" jsf:value="#{registroController.expediente.sumilla}" style="width: 100%;" class="form-control" maxlength="4000" placeholder="Los hechos son:                       El pedido concreto es:"/>
                                                            <br/>
                                                            <h:outputLabel class="text-bold" value="Observaciones:" rendered="#{registroController.expediente.tipoClasificion != '02'}" />
                                                            <h:outputLabel class="text-bold" value="Orientación:" rendered="#{registroController.expediente.tipoClasificion == '02'}" />
                                                            <span style="color: red">(max: 4000 carateres)</span> 
                                                            <textarea rows="5" jsf:value="#{registroController.expediente.observacion}" style="width: 100%"  maxlength="4000" class="form-control"/>
                                                            <br/><br/>
                                                            <div class="form-group row">
                                                                <label for="fname" class="col-sm-4 text-right control-label col-form-label">Adjuntar archivo</label>
                                                                <div class="col-sm-8" style="text-align: right">
                                                                    <input type="file" jsf:value="#{registroController.file5}" class="form-control"/>
                                                                </div>
                                                                <br/>
                                                                <div class="table-responsive">
                                                                    <h:dataTable value="#{registroController.listaDocumentosPorVisita}" var="doc" class="table table-hover" binding="#{dot}" rendered="#{registroController.listaDocumentosPorVisita.size() > 0}">
                                                                        <h:column>
                                                                            <f:facet name="header">N°</f:facet>
                                                                            <h:outputText value="#{dot.rowIndex + 1}" />
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">Código</f:facet>
                                                                            <h:outputText value="#{doc.codigoDocumento}" />
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">Visita</f:facet>
                                                                            <h:outputText value="#{doc.idVisita}" />
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">Documento</f:facet>
                                                                            <h:panelGroup rendered="#{doc.rutaDocumento != null}">
                                                                                <a target="_blank" href="/sid/DownloadFileServlet?fileName=#{doc.rutaDocumento}">
                                                                                    <span class="fas fa-link" /> #{doc.codigoDocumento}
                                                                                </a>
                                                                            </h:panelGroup>    
                                                                        </h:column>
                                                                    </h:dataTable>
                                                                </div>        


                                                            </div>
                                                            <div class="form-group row">
                                                                <h:panelGroup rendered="#{registroController.expediente.ruta != null}">
                                                                    <div class="col-sm-11" style="text-align: left">
                                                                        <a target="_blank" href="/sid/DownloadFileServlet?fileName=#{registroController.expediente.ruta}">
                                                                            <span class="fas fa-link" />#{registroController.expediente.ruta}
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-sm-1" style="text-align: right">
                                                                        <a jsf:action="#{registroController.eliminarArchivo()}">
                                                                            <span style="color: red" class="fas fa-times" />
                                                                        </a>
                                                                    </div>
                                                                </h:panelGroup>
                                                            </div>
                                                            <br/>
                                                            <div class="form-group row">
                                                                <div class="col-sm-12" style="text-align: left">
                                                                    <h:selectBooleanCheckbox disabled="#{registroController.expediente.indiceMayorInformacion? 'true':'false'}" value="#{registroController.expediente.indiceMayorInformacion}" rendered="#{registroController.etapaEstado.verEtapa == 1 or registroController.etapaEstado.verEtapa == 5}">
                                                                        Mayor información
                                                                    </h:selectBooleanCheckbox>
                                                                    <h:selectBooleanCheckbox disabled="true" value="#{registroController.expediente.indiceMayorInformacion}" rendered="#{registroController.etapaEstado.verEtapa != 1 and registroController.etapaEstado.verEtapa != 5}">
                                                                        Mayor información
                                                                    </h:selectBooleanCheckbox>
                                                                </div>
                                                            </div>
                                                            <br/><br/>
                                                            <h:panelGroup id="idPanelEntidadesQue" rendered="#{registroController.expediente.tipoClasificion != '02'}">
                                                                <h4 class="card-title"><h:outputText rendered="#{registroController.expediente.tipoClasificion == '01'}" value="Entidad Intervenida"/></h4>


                                                                <br/>
                                                                <div class="form-group row">
                                                                    <div class="col-sm-3">
                                                                        <label>Región</label>
                                                                        <h:selectOneMenu value="#{registroController.entidad.idDepartamento}" class="form-control">
                                                                            <f:selectItem itemValue="#{registroController.usuarioSession.idDepartamento}" itemLabel="#{registroController.usuarioSession.nombreDepartamento}" />
                                                                            <f:selectItem itemValue="0" itemLabel="Todas las regiones" />
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                    <div class="col-sm-4">
                                                                        <label>Tipo</label>
                                                                        <h:selectOneMenu value="#{registroController.entidad.tipo}" class="form-control">
                                                                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                            <f:selectItems value="#{listasComunesController.buscarTipoEntidad(false, false, false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                    <div class="col-sm-4">
                                                                        <label>Entidad</label>
                                                                        <input type="text" id="idBusquedaEntidad" placeholder="Ingrese nombre de la Entidad" jsf:value="#{registroController.entidad.nombre}" class="form-control"/>
                                                                    </div>
                                                                    <div class="col-sm-1">
                                                                        <br/>
                                                                        <a style="vertical-align: bottom" href="#" class="trigger1" jsf:action="#{registroController.cargarPopoverEntidad(1)}">
                                                                            <span class="fa fa-search"></span>
                                                                            <f:ajax render="idPanelEntidadesQue" execute="idPanelEntidadesQue" onevent="modalBusquedaEntidad"/>
                                                                        </a>

                                                                        <div id="idModalBusquedaEntidad" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;" >
                                                                            <div class="modal-dialog">
                                                                                <div class="modal-content">
                                                                                    <div class="modal-header">
                                                                                        <h4 class="modal-title">Listado de Entidades</h4>
                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                                    </div>
                                                                                    <div class="modal-body">
                                                                                        <h:panelGroup id="idPanel1">
                                                                                            <div class="table-responsive">

                                                                                                <h:dataTable value="#{registroController.entidadPopover}" id="idDatableBusquedaEntida" var="entidades" class="table table-hover">
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                                        <h:outputText value="#{entidades.nombre}"/>
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Tipo</f:facet>
                                                                                                        <h:outputText value="#{entidades.tipoDetalle}"/>
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <f:facet name="header">Región</f:facet>
                                                                                                        <h:outputText value="#{entidades.nombreDepartamento}"/>
                                                                                                    </h:column>
                                                                                                    <h:column>
                                                                                                        <a jsf:action="#{registroController.addEntidad(entidades)}">
                                                                                                            <span class="fas fa-share"></span>  
                                                                                                        </a>
                                                                                                    </h:column>
                                                                                                </h:dataTable>
                                                                                                <ul class="pagination">
                                                                                                    <li class="paginate_button page-item previous" id="file_export_previous">
                                                                                                        <a  jsf:action="#{registroController.cargarPopoverEntidad(registroController.nroPaginaPersona -1)}" jsf:rendered="#{!empty registroController.entidadPopover}" aria-controls="file_export" data-dt-idx="0" tabindex="0" class="page-link">Anterior
                                                                                                            <f:ajax render="idDatableBusquedaEntida" />
                                                                                                        </a>
                                                                                                    </li>
                                                                                                    <li class="paginate_button page-item next" id="file_export_next">
                                                                                                        <a jsf:action="#{registroController.cargarPopoverEntidad(registroController.nroPaginaPersona +1)}" jsf:rendered="#{!empty registroController.entidadPopover}" aria-controls="file_export" data-dt-idx="7" tabindex="0" class="page-link">Siguiente
                                                                                                            <f:ajax render="idDatableBusquedaEntida" />
                                                                                                        </a>    
                                                                                                    </li>
                                                                                                </ul>
                                                                                            </div>
                                                                                        </h:panelGroup>
                                                                                    </div>
                                                                                    <div class="modal-footer">
                                                                                        <a class="btn btn-danger" data-dismiss="modal">
                                                                                            <span class="fas fa-times" style="color: white"/> <span style="color: white">Cerrar</span>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <script>
                                                                            function modalBusquedaEntidad() {
                                                                                $("#loadModal").modal('hide');
                                                                                $('body').removeClass('modal-open');
                                                                                $(".modal-backdrop").removeClass("modal-backdrop");
                                                                                $("#idModalBusquedaEntidad").modal('show');
                                                                            }
                                                                        </script>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <div class="col-sm-12">
                                                                        <div class="table-responsive">
                                                                            <h:dataTable value="#{registroController.entidadSeleccionadas}" var="entidad" class="table table-striped" rendered="#{registroController.entidadSeleccionadas.size() > 0}">
                                                                                <h:column>
                                                                                    <f:facet name="header">Nombre</f:facet>
                                                                                    <h:outputText value="#{entidad.entidad.nombre}"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Func. quejado</f:facet>
                                                                                    <input type="text" jsf:value="#{entidad.nombreCompleto}" placeholder="Nombre" maxlength="300" class="form-control"/> 
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <f:facet name="header">Cargo</f:facet>
                                                                                    <input type="text" jsf:value="#{entidad.cargo}" placeholder="Cargo" maxlength="200" class="form-control"/>
                                                                                </h:column>
                                                                                <h:column>
                                                                                    <script>
                                                                                        function confirmar3#{entidad.entidad.id}() {
                                                                                            $(".confirmacion3#{entidad.entidad.id}").modal('show');
                                                                                        }
                                                                                    </script>
                                                                                    <gc:confirmSubmit bean="#{registroController.removeEntidad(entidad)}" classGC="confirmacion3#{entidad.entidad.id}" mensaje="Esta seguro de desvincular la Entidad?" />
                                                                                    <a onclick="confirmar3#{entidad.entidad.id}()">
                                                                                        <span style="color: red" class="fas fa-times"></span>
                                                                                    </a>
                                                                                </h:column>
                                                                            </h:dataTable>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </h:panelGroup>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>  
                <div class="card" style="background-color: #EEEEEE">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-4">
                                            <h4 class="card-title">Datos de archivo</h4>
                                        </div>
                                        <div class="col-8" style="text-align: right">
                                            <a jsf:action="#{registroController.actualizarArchivo()}" class="btn btn-info" jsf:rendered="#{registroController.expediente.general == 'C'}">
                                                <span class="fa fa-save" /> Guardar datos de archivo
                                            </a>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Tipo</label>
                                        <div class="col-sm-8">
                                            <h:selectOneRadio value="#{registroController.expediente.tipoArchivo}">
                                                <f:selectItem itemLabel="Archivo periférico" itemValue="PER"/>
                                                <f:selectItem itemLabel="Archivo central" itemValue="CEN"/>
                                            </h:selectOneRadio>
                                        </div>
                                    </div> 
                                    <div class="form-group row">
                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Recepción</label>
                                        <div class="col-sm-8">
                                            <h:selectBooleanCheckbox value="#{registroController.expediente.indicadorRecepcionArchivo}"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Fecha</label>
                                        <div class="col-sm-8">
                                            <gc:calendar value="#{registroController.expediente.fechaArchivo}"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="fname" class="col-sm-4 text-right control-label col-form-label">Ubicación topográfica</label>
                                        <div class="col-sm-8">
                                            <textarea rows="5" jsf:value="#{registroController.expediente.ubicacionTipologica}" style="width: 100%;" placeholder="Ubicación tipográfica" maxlength="1400" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group row">
                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Observaciones</label>
                                    <div class="col-sm-8">
                                        <textarea rows="5" jsf:value="#{registroController.expediente.observacionArchivo}" placeholder="Observaciones" maxlength="1400" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Documento</label>
                                    <div class="col-sm-8">
                                        <h:selectOneMenu value="#{registroController.expediente.tipoDocumentoArchivo}" class="form-control">
                                            <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                            <f:selectItems value="#{listasComunesController.listaTipoArchivo(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                        </h:selectOneMenu>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Nro. de folios</label>
                                    <div class="col-sm-8">
                                        <input type="text" placeholder="Nro de folios" jsf:value="#{registroController.expediente.numeroFolios}" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="fname" class="col-sm-4 text-right control-label col-form-label">Otros soportes</label>
                                    <div class="col-sm-8">
                                        <h:selectOneMenu value="#{registroController.expediente.tipoSoporteArchivo}" class="form-control">
                                            <f:selectItem itemValue="0" itemLabel="Seleccione" />
                                            <f:selectItems value="#{listasComunesController.listaTipoSoporteArchivo(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                        </h:selectOneMenu>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <table style="width: 100%">       
                    <tr>
                        <td colspan="2">
                            <div class="panel panel-featured-top-warning" style="height: 100px">
                                <div class="panel-body">
                                    <span class="text-resalt-primary">Responsables del expediente, usuario : </span>
                                    <span class="text-resalt-primary"><b>#{registroController.expediente.usuarioResponsable} </b></span>
                                    <br/>
                                    <span class="text-resalt-primary">Usuario asignado: </span>
                                    <span class="text-resalt-primary"><b>#{registroController.expediente.usuarioRegistro} </b></span>
                                </div>
                            </div>
                        </td>                  
                    </tr>
                </table>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
