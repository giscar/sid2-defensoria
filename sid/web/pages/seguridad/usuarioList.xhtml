<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form class="form-horizontal">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <table style="width:100%">
                                    <tr>
                                        <td>
                                            <span style="color:#0074cc;font-size:x-large">Criterios de búsqueda</span>
                                        </td>
                                        <td style="text-align:right">
                                            <a class="btn btn-info" jsf:action="#{busquedaUsuarioController.buscarUsuarios()}">
                                                <span class="fas fa-search"/>Buscar
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                                <br/>
                                <hr/>

                                <div class="card-body">
                                    <h4 class="card-title">Información Personal</h4>
                                    <div class="form-group row">
                                        <label for="fname" class="col-sm-3 text-right control-label col-form-label">Código</label>
                                        <div class="col-sm-9">
                                            <input type="text" placeholder="Código" jsf:value="#{busquedaUsuarioController.usuarioBusqueda.codigo}" class="form-control"  autocomplete="off" maxlength="40"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="lname" class="col-sm-3 text-right control-label col-form-label">DNI</label>
                                        <div class="col-sm-9">
                                            <input type="text" placeholder="Documento" jsf:value="#{busquedaUsuarioController.usuarioBusqueda.documento}" class="form-control" autocomplete="off" maxlength="8" onkeypress="return soloNumbero(event);"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="email1" class="col-sm-3 text-right control-label col-form-label">Nombre</label>
                                        <div class="col-sm-9">
                                            <input type="text" placeholder="Nombre" jsf:value="#{busquedaUsuarioController.usuarioBusqueda.nombre}" class="form-control" autocomplete="off"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="cono1" class="col-sm-3 text-right control-label col-form-label">Apellido Paterno</label>
                                        <div class="col-sm-9">
                                            <input type="text" placeholder="Apellido Paterno" jsf:value="#{busquedaUsuarioController.usuarioBusqueda.apellidoPaterno}" class="form-control" autocomplete="off"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="cono1" class="col-sm-3 text-right control-label col-form-label">Apellido Materno</label>
                                        <div class="col-sm-9">
                                            <input type="text" placeholder="Apellido Materno" jsf:value="#{busquedaUsuarioController.usuarioBusqueda.apellidoMaterno}" class="form-control" autocomplete="off"/>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                
                                <div class="table-responsive" style="position: relative; overflow: auto; height: 600px; width: 100%;">
                                    <h:dataTable value="#{busquedaUsuarioController.listaUsuarioBusqueda}" var="item" id="idDatatableActor" class="table table-striped table-bordered display" binding="#{usu}" rendered="#{busquedaUsuarioController.listaUsuarioBusqueda.size() > 0}">
                                        <h:column>
                                            <f:facet name="header">#</f:facet>
                                            <h:outputText value="#{usu.rowIndex+1}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Código"/>
                                            </f:facet>
                                            <h:outputText value="#{item.codigo}"/>
                                        </h:column>
                                        <h:column id="colNombre">
                                            <f:facet name="header">
                                                <h:outputText value="Nombre"/>
                                            </f:facet>
                                            <h:outputText value="#{item.nombre}"/>
                                        </h:column>
                                        <h:column id="colApPaterno">
                                            <f:facet name="header">
                                                <h:outputText value="Apellido Paterno"/>
                                            </f:facet>
                                            <h:outputText value="#{item.apellidoPaterno}"/>
                                        </h:column>
                                        <h:column id="colApMaterno">
                                            <f:facet name="header">
                                                <h:outputText value="Apellido Materno"/>
                                            </f:facet>
                                            <h:outputText value="#{item.apellidoMaterno}"/>
                                        </h:column>
                                        <h:column id="colDni">
                                            <f:facet name="header">
                                                <h:outputText value="DNI"/>
                                            </f:facet>
                                            <h:outputText value="#{item.documento}"/>
                                        </h:column>
                                        <h:column id="colCambioClave">
                                            <f:facet name="header">
                                            </f:facet>
                                            
                                            <a jsf:action="#{usuarioDetalleController.verDetalleUsuario(item)}" data-toggle="tooltip" data-placement="bottom" title="Modificar usuario">
                                                        <i class="far fa-edit" ></i>
                                                    </a>
                                        </h:column>
                                    </h:dataTable>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>    
            </h:form>
        </ui:define>
    </ui:composition>
</html>