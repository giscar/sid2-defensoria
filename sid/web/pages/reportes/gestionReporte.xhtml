<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:jsf="http://xmlns.jcp.org/jsf" 
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:gc="http://xmlns.jcp.org/jsf/composite/gc">
    <ui:composition template="../template/template.xhtml">
        <ui:define name="content">
            <h:form id="idForm" class="form-horizontal">
                <div class="panel panel-primary">
                    <div class="panel-body">
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation">
                                <a aria-controls="home" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaExpedienteReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de expedientes
                                </a>
                            </li>
                            <li role="presentation" class="active">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaGestionReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de gestiones
                                </a>
                            </li>
                            <li role="presentation">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaEntidadReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de entidades
                                </a>
                            </li>
                            <li role="presentation">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaTematicaReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de tematicas
                                </a>
                            </li>
                            <li role="presentation">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaComisionadoReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de comisionados
                                </a>
                            </li>
                            <li role="presentation">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaDependenciaReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de dependencias
                                </a>
                            </li>
                            <li role="presentation">
                                <a aria-controls="profile" role="tab" data-toggle="tab" jsf:action="#{reporteSidController.cargarPaginaGestionInternaReporte()}">
                                    <span class="text-resalt-comun"/>Reporte de gestiones internas
                                </a>
                            </li>
                        </ul>
                        <div role="tabpanel" >
                            <div class="tab-content">
                                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingOne">
                                            <h4 class="panel-title">
                                                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true"  aria-controls="collapseOne">
                                                    Datos del expediente
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                            <div class="panel-body">
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td style="width: 50%; padding-right: 5px; padding-bottom: 10px">
                                                            <table style="width: 100%">
                                                                <tr>
                                                                    <td>
                                                                        <span style="color: red; font-size: 2em;">*</span><label>Fecha de ingreso desde</label>
                                                                        <gc:calendar value="#{reporteSidController.reporteSidExpediente.fechaIngresoDesde}" />
                                                                    </td>
                                                                    <td>
                                                                        <span style="color: red; font-size: 2em;">*</span><label>Fecha de ingreso hasta</label>
                                                                        <gc:calendar value="#{reporteSidController.reporteSidExpediente.fechaIngresoHasta}" />
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px">
                                                            <table style="width: 100%">
                                                                <tr>
                                                                    <td>
                                                                        <label>Fecha de conclusión desde</label>
                                                                        <gc:calendar value="#{reporteSidController.reporteSidExpediente.fechaConclusionDesde}" />
                                                                    </td>
                                                                    <td>
                                                                        <label>Fecha de conclusión hasta</label>
                                                                        <gc:calendar value="#{reporteSidController.reporteSidExpediente.fechaConclusionHasta}" />
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right: 5px; padding-bottom: 10px">
                                                            <label>Tipo de expediente</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.tipoExpediente}">
                                                                <f:selectItem itemLabel="Seleccione" />
                                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px">
                                                            <label>Entidad</label>
                                                            <table style="width: 100%">
                                                                <tr>
                                                                    <td>
                                                                        <input type="text" jsf:value="#{reporteSidController.reporteSidExpediente.nombreEntidad}" readonly="true"/>
                                                                        <h:inputHidden value="#{reporteSidController.reporteSidExpediente.codigoEntidad}" />
                                                                    </td>
                                                                    <td>
                                                                        <a style="vertical-align: bottom" jsf:action="#{reporteSidController.limpiaListasReporte()}" jsf:onclick="loadingModal()" >
                                                                            <span style="color: #3183B9; font-size: large;" class="glyphicon glyphicon-search"></span>
                                                                            <f:ajax render=":idForm:idPanelModalEntidad" onevent="openModalBusquedaEntidad()"/>
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <div class="modal fade" tabindex="-1" role="dialog" id="idModalBusquedaEntidad">
                                                                <div class="modal-dialog" role="document">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                                <span aria-hidden="true" class="glyphicon glyphicon-remove" style="color: red"/>
                                                                            </button>
                                                                            <span class="modal-title text-resalt-primary">Búsqueda de Entidades</span>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <h:panelGroup id="idPanelModalEntidad">
                                                                                <div id="idDivRegistro" class="form-group has-feedback" style="width:100%;margin:auto">
                                                                                    <table style="width: 100%">
                                                                                        <tr>
                                                                                            <td style="width: 80%">
                                                                                                <input type="text" jsf:value="#{reporteSidController.entidadReporte.nombre}"  placeholder="Ingrese nombre de la Entidad" />
                                                                                            </td>
                                                                                            <td>
                                                                                                <a style="vertical-align: bottom" jsf:action="#{reporteSidController.cargarPopoverEntidad(1)}" jsf:onclick="loadingModal()">
                                                                                                    <span style="color: #3183B9; font-size: large;" class="glyphicon glyphicon-search"></span>
                                                                                                    <f:ajax execute="@form" render=":idForm:idPanelModalEntidad" onevent="closeModal"/>
                                                                                                </a>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </table>
                                                                                </div>
                                                                                <br/>
                                                                                <h:dataTable  var="item" value="#{reporteSidController.entidadPopover}" class="table table-striped" style="font-size:small" binding="#{row1}">
                                                                                    <h:column>
                                                                                        <f:facet name="header">N.°</f:facet>
                                                                                        <h:outputText value="#{(reporteSidController.nroPaginaEntidad-1)*10+row1.rowIndex+1}" />
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Nombre</f:facet>
                                                                                        <h:outputText value="#{item.nombre}" />
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">RUC</f:facet>
                                                                                        <h:outputText value="#{item.nombreDepartamento}" />
                                                                                    </h:column>
                                                                                    <h:column>
                                                                                        <f:facet name="header">Acciones</f:facet>
                                                                                        <a class="btn btn-warning" jsf:action="#{reporteSidController.setearEntidad(item)}" >
                                                                                            <span class="glyphicon glyphicon-pencil" />
                                                                                        </a>
                                                                                    </h:column>
                                                                                </h:dataTable>
                                                                                <ul class="pager">
                                                                                    <li>
                                                                                        <a jsf:rendered="#{reporteSidController.entidadPopover.size() > 0}" jsf:action="#{reporteSidController.cargarPopoverEntidad(reporteSidController.nroPaginaEntidad -1)}">Anterior
                                                                                            <f:ajax render="idPanelModalEntidad" />
                                                                                        </a>
                                                                                    </li>
                                                                                    <li>
                                                                                        <a jsf:rendered="#{reporteSidController.entidadPopover.size() > 0}" jsf:action="#{reporteSidController.cargarPopoverEntidad(reporteSidController.nroPaginaEntidad +1)}">Siguiente
                                                                                            <f:ajax render="idPanelModalEntidad" />
                                                                                        </a>
                                                                                    </li>
                                                                                </ul>
                                                                            </h:panelGroup>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <script>
                                                                function openModalBusquedaActor() {
                                                                    $("#idModalBusquedaEntidad").modal('show');
                                                                }
                                                            </script>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right: 5px; padding-bottom: 10px">
                                                            <label>Región de la entidad quejada</label>
                                                            <h:panelGroup id="idUbigeoPersona">
                                                                <table style="width:100%">
                                                                    <tr>
                                                                        <td style="width:33%">
                                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.idDepartamentoEntidad}" onchange="loadingModal()">
                                                                                <f:selectItem itemLabel="Departamento" itemValue=""/>
                                                                                <f:selectItems value="#{listasComunesController.listaDepartamentos(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                        <td style="width:33%">
                                                                        </td>
                                                                        <td style="width:34%">
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </h:panelGroup>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px">
                                                            <label>Canal de ingreso:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.canalIngreso}">
                                                                <f:selectItem itemValue="" itemLabel="Seleccione" />
                                                                <f:selectItems value="#{listasComunesController.buscarExpedienteTipoIngreso(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right: 5px; padding-bottom: 10px">
                                                            <label>OD / MAD / Programa</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.ODBusqueda}">
                                                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                                                <f:selectItems value="#{listasComunesController.buscarListaADOD(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px">
                                                            <label>Comisionado</label>
                                                            <table style="width: 100%">
                                                                <tr>
                                                                    <td>
                                                                        <input type="text" jsf:value="#{reporteSidController.reporteSidExpediente.usuarioNombre}" readonly="true"/>
                                                                        <h:inputHidden value="#{reporteSidController.reporteSidExpediente.usuarioCodigo}" />
                                                                    </td>
                                                                    <td>
                                                                        <a style="vertical-align: bottom" jsf:action="#{reporteSidController.limpiarComisionado()}" jsf:onclick="loadingModal()" >
                                                                            <span style="color: #3183B9; font-size: large;" class="glyphicon glyphicon-search"></span>
                                                                            <f:ajax render=":idForm:idPanelCompartir" onevent="modalAsignar()"/>
                                                                        </a>
                                                                        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="idModalCompartir" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                                            <div class="modal-dialog" style="text-align: left">
                                                                                <div class="modal-content">
                                                                                    <div class="modal-header">
                                                                                        <a type="button" class="close" data-dismiss="modal">
                                                                                            <span style="color:red" class="glyphicon glyphicon-remove"></span>
                                                                                        </a>
                                                                                    </div>
                                                                                    <div class="modal-body" style="padding:5px">
                                                                                        <h:panelGroup id="idPanelCompartir">
                                                                                            <span class="text-bold">Seleccione Comisionado:</span>
                                                                                            <h:selectOneMenu value="#{reporteSidController.usuarioPalabra}">
                                                                                                <f:selectItems value="#{reporteSidController.listaUsuarioOD}" var="item" itemLabel="#{item.nombre} #{item.apellidoPaterno} #{item.apellidoMaterno}" itemValue="#{item.codigo}" />
                                                                                            </h:selectOneMenu>
                                                                                            <div class="modal-footer">
                                                                                                <h:commandLink class="btn btn-primary" action="#{reporteSidController.seleccionarUsuarioComisionado()}">
                                                                                                    <span class="glyphicon glyphicon-floppy-disk"/>Seleccionar
                                                                                                </h:commandLink>
                                                                                            </div>
                                                                                        </h:panelGroup>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <script>
                                                                            function modalAsignar() {
                                                                                $("#idModalCompartir").modal('show');
                                                                            }
                                                                        </script>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label>Grupos vulnerables:</label>
                                                            <gc:selectMultiBootstrap idSelect="idSelectGrupoViolencia" idHidden="idSelect1" lista="#{listasComunesController.buscarGrupoVulnerable(false,false,false)}" value="#{reporteSidController.reporteSidExpediente.grupoVulnerable}"/>
                                                        </td>
                                                        <td>
                                                            <label>Etiqueta:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.etiqueta}">
                                                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                                                <f:selectItems value="#{listasComunesController.buscarExpedienteEtiquetas(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                        <tr>
                                                            <td style="width: 50%; padding-right: 5px; padding-bottom: 10px">
                                                                <span class="text-bold">Buscador de clasificación temática:</span>
                                                                <a style="cursor: pointer" jsf:action="#{reporteSidController.limpiarModalBusquedaClasificacion()}" jsf:onclick="loadingModal()">
                                                                    <span class="glyphicon glyphicon-search" style="font-size: large" />
                                                                    <f:ajax render="idPanelModalBusquedaClasificacion" onevent="openModalBusquedaClasificacion" />
                                                                </a>
                                                            </td>
                                                            <td style="padding-left: 5px; padding-bottom: 10px">
                                                                <script>
                                                                    function openModalBusquedaClasificacion(data) {
                                                                        if (data.status === 'success') {
                                                                            $("#loadModal").modal('hide');
                                                                            $('body').removeClass('modal-open');
                                                                            $(".modal-backdrop").removeClass("modal-backdrop");
                                                                            $("#idModalBusquedaClasificacion").modal('show');
                                                                        }
                                                                    }
                                                                </script>
                                                                <h:panelGroup id="idPanelModalBusquedaClasificacion">
                                                                    <div class="modal fade" data-backdrop="static" data-keyboard="false" id="idModalBusquedaClasificacion" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                                        <div class="modal-dialog" style="text-align: left">
                                                                            <div class="modal-content">
                                                                                <div class="modal-header">
                                                                                    <a type="button" class="close" data-dismiss="modal">
                                                                                        <span style="color:red" class="glyphicon glyphicon-remove"></span>
                                                                                    </a>
                                                                                    <span class="text-resalt-primary">Búsqueda de clasificación</span>
                                                                                </div>
                                                                                <div class="modal-body" style="padding:5px">
                                                                                    <div class="panel-body">
                                                                                        <h:panelGroup id="idPanelBusquedaClasificacion">
                                                                                            <table style="width: 100%">
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <input type="text" autocomplete="off" jsf:value="#{reporteSidController.expedienteClasificacionBusqueda.nombre}" maxlength="100" />
                                                                                                    </td>
                                                                                                    <td>
                                                                                                        <a class="btn btn-primary" jsf:action="#{reporteSidController.buscarClasificacion(1)}" jsf:onclick="loadingModal()">
                                                                                                            <span class="glyphicon glyphicon-search" />
                                                                                                            <f:ajax render="idPanelBusquedaClasificacion" execute="idPanelBusquedaClasificacion" onevent="closeModal"/>Buscar
                                                                                                        </a>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </table>
                                                                                            <br/>
                                                                                            <c:forEach var="nivel" items="#{reporteSidController.listaExpedienteNivelModal}">
                                                                                                <div class="alert alert-warning fade in" style="margin-bottom: 3px; padding: 4px">
                                                                                                    <table style="width: 100%">
                                                                                                        <tr>
                                                                                                            <td style="width: 95%">
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.primerNivel}"/>
                                                                                                                <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.segundoNivel != null}"/>
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.segundoNivel}" />
                                                                                                                <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.tercerNivel != null}"/>
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.tercerNivel}" />
                                                                                                                <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.cuartoNivel != null}"/>
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.cuartoNivel}" />
                                                                                                                <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.quintoNivel != null}"/>
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.quintoNivel}" />
                                                                                                                <h:outputText style="color: gray; font-weight: bold;" value=" > " rendered="#{nivel.sextoNivel != null}"/>
                                                                                                                <h:outputText style="font-weight: bold" value="#{nivel.sextoNivel}" />
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <a jsf:action="#{reporteSidController.seleccionarNivel(nivel)}" jsf:onclick="loadingModal()">
                                                                                                                    <span class="glyphicon glyphicon-plus"  style="color: #007ACC; font-size: medium"/>
                                                                                                                </a>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </table>    
                                                                                                </div>             
                                                                                            </c:forEach>
                                                                                            <br/>
                                                                                            <ul class="pager">
                                                                                                <li>
                                                                                                    <a jsf:action="#{registroController.buscarClasificacion(registroController.nroPaginaModal -1)}" jsf:rendered="#{!empty registroController.listaExpedienteNivelModal}" jsf:onclick="loadingModal()">Anterior
                                                                                                        <f:ajax render="idPanelBusquedaClasificacion" onevent="closeModal"/>
                                                                                                    </a>
                                                                                                </li>
                                                                                                <li>
                                                                                                    <a jsf:action="#{registroController.buscarClasificacion(registroController.nroPaginaModal +1)}" jsf:rendered="#{!empty registroController.listaExpedienteNivelModal}" jsf:onclick="loadingModal()">Siguiente
                                                                                                        <f:ajax render="idPanelBusquedaClasificacion" onevent="closeModal"/>
                                                                                                    </a>
                                                                                                </li>
                                                                                            </ul>
                                                                                        </h:panelGroup>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </h:panelGroup>
                                                            </td>
                                                        </tr> 
                                                    </table>
                                                    <h:panelGroup id="idClasificador">
                                                        <table style="width: 100%">
                                                            <tr>
                                                                <td style="padding-bottom: 10px; padding-right: 5px; width: 50%;">
                                                                    <span class="text-bold">Tema:</span>
                                                                    <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.idPrimerNivel}" id="idSelectPrimerNivel" onchange="loadingModal()">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionPrimerLevel}" />
                                                                        <f:ajax listener="#{reporteSidController.cargarNivelesClasificacion(reporteSidController.reporteSidExpediente.idPrimerNivel, 2)}" 
                                                                                render="idClasificador" onevent="closeModal"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                                <td style="padding-bottom: 10px; padding-left: 5px">
                                                                    <h:panelGroup id="ides">
                                                                        <span class="text-bold">Sub tema:</span>
                                                                    </h:panelGroup>
                                                                    <h:selectOneMenu id="idSelectSegundoNivel" value="#{reporteSidController.reporteSidExpediente.idSegundoNivel}" onchange="loadingModal()">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionSegundoLevel}" />
                                                                        <f:ajax listener="#{reporteSidController.cargarNivelesClasificacion(reporteSidController.reporteSidExpediente.idSegundoNivel, 3)}"  
                                                                                render="idClasificador" onevent="closeModal"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="padding-bottom: 10px; padding-right: 5px">
                                                                    <span class="text-bold">Tercer nivel:</span>
                                                                    <h:selectOneMenu id="idSelectTercerNivel" value="#{reporteSidController.reporteSidExpediente.idTercerNivel}" onchange="loadingModal()">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionTercerLevel}" />
                                                                        <f:ajax listener="#{reporteSidController.cargarNivelesClasificacion(reporteSidController.reporteSidExpediente.idTercerNivel, 4)}" 
                                                                                render="idClasificador" onevent="closeModal"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                                <td  style="padding-bottom: 10px; padding-left: 5px">
                                                                    <span class="text-bold">Cuarto nivel:</span>
                                                                    <h:selectOneMenu id="idSelectCuartoNivel" value="#{reporteSidController.reporteSidExpediente.idCuartoNivel}" onchange="loadingModal()">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionCuartoLevel}" />
                                                                        <f:ajax listener="#{reporteSidController.cargarNivelesClasificacion(reporteSidController.reporteSidExpediente.idCuartoNivel, 5)}" 
                                                                                render="idClasificador" onevent="closeModal"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td  style="padding-bottom: 10px; padding-right: 5px">
                                                                    <span class="text-bold">Quinto nivel:</span>
                                                                    <h:selectOneMenu id="idSelectQuintoNivel" value="#{reporteSidController.reporteSidExpediente.idQuintoNivel}" onchange="loadingModal()">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionQuintoLevel}" />
                                                                        <f:ajax listener="#{reporteSidController.cargarNivelesClasificacion(reporteSidController.reporteSidExpediente.idQuintoNivel, 6)}" 
                                                                                render="idClasificador" onevent="closeModal"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                                <td  style="padding-bottom: 10px; padding-left: 5px">
                                                                    <span class="text-bold">Sexto nivel:</span>
                                                                    <h:selectOneMenu id="idSelectSextoNivel" value="#{reporteSidController.reporteSidExpediente.idSextoNivel}">
                                                                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                                                        <f:selectItems value="#{reporteSidController.listaClasificacionSextoLevel}" />
                                                                    </h:selectOneMenu>
                                                                </td>
                                                            </tr>
                                                            
                                                        </table>
                                                    </h:panelGroup>
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td style="padding-bottom: 10px; padding-right: 5px; width: 50%">
                                                            <label>Ubigeo del recurrente</label>
                                                            <h:panelGroup>
                                                                <table style="width:100%">
                                                                    <tr>
                                                                        <td style="width:33%">
                                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.idDepartamentoRecurrente}" onchange="loadingModal()">
                                                                                <f:selectItem itemLabel="Departamento" itemValue=""/>
                                                                                <f:selectItems value="#{listasComunesController.listaDepartamentos(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                <f:ajax listener="#{reporteSidController.comboProvinciaRecurrente()}" render="cmbProvincia2 cmbDistrito2" onevent="closeModal"/>
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                        <td style="width:33%">
                                                                            <h:selectOneMenu id="cmbProvincia2" value="#{reporteSidController.reporteSidExpediente.idProvinciaRecurrente}" onchange="loadingModal()">
                                                                                <f:selectItem itemLabel="Provincia" itemValue=""/>
                                                                                <f:selectItems value="#{reporteSidController.listaProvincia}" />
                                                                                <f:ajax listener="#{reporteSidController.comboDistritoRecurrente()}" render="cmbDistrito2" onevent="closeModal"/>
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                        <td style="width:34%">
                                                                            <h:selectOneMenu id="cmbDistrito2" value="#{reporteSidController.reporteSidExpediente.idDistritoRecurrente}">
                                                                                <f:selectItem itemLabel="Distrito" itemValue=""/>
                                                                                <f:selectItems value="#{reporteSidController.listaDistrito}" />
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </h:panelGroup>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px;">
                                                            <label>¿Es persona con discapacidad?</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.esDiscapacitadoRecurrente}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItem itemLabel="Si" itemValue="1"/>
                                                                <f:selectItem itemLabel="No" itemValue="0"/>
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right: 5px; padding-bottom: 10px;">
                                                            <label>Lengua materna:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.tipoLenguaRecurrente}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItems value="#{listasComunesController.listaLenguaMaterna(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                        <td style="padding-bottom: 10px; padding-left: 5px">
                                                            <label>Población indígena u originarios:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.tipoPuebloRecurrente}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItems value="#{listasComunesController.listaPuebloIndigena(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td style="padding-bottom: 10px; padding-right: 5px; width: 50%">
                                                            <label>Ubigeo del afectado</label>
                                                            <h:panelGroup>
                                                                <table style="width:100%">
                                                                    <tr>
                                                                        <td style="width:33%">
                                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.idDepartamentoAfectado}" onchange="loadingModal()">
                                                                                <f:selectItem itemLabel="Departamento" itemValue=""/>
                                                                                <f:selectItems value="#{listasComunesController.listaDepartamentos(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                                                <f:ajax listener="#{reporteSidController.comboProvinciaAfectado()}" render="cmbProvincia3 cmbDistrito3" onevent="closeModal"/>
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                        <td style="width:33%">
                                                                            <h:selectOneMenu id="cmbProvincia3" value="#{reporteSidController.reporteSidExpediente.idProvinciaAfectado}" onchange="loadingModal()">
                                                                                <f:selectItem itemLabel="Provincia" itemValue=""/>
                                                                                <f:selectItems value="#{reporteSidController.listaProvincia}" />
                                                                                <f:ajax listener="#{reporteSidController.comboDistritoAfectado()}" render="cmbDistrito3" onevent="closeModal"/>
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                        <td style="width:34%">
                                                                            <h:selectOneMenu id="cmbDistrito3" value="#{reporteSidController.reporteSidExpediente.idDistritoAfectado}">
                                                                                <f:selectItem itemLabel="Distrito" itemValue=""/>
                                                                                <f:selectItems value="#{reporteSidController.listaDistrito}" />
                                                                            </h:selectOneMenu>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </h:panelGroup>
                                                        </td>
                                                        <td style="padding-left: 5px; padding-bottom: 10px;">
                                                            <label>¿Es persona con discapacidad?</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.esDiscapacitadoAfectado}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItem itemLabel="Si" itemValue="1"/>
                                                                <f:selectItem itemLabel="No" itemValue="0"/>
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right: 5px; padding-bottom: 10px;">
                                                            <label>Lengua materna:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.tipoLenguaAfectado}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItems value="#{listasComunesController.listaLenguaMaterna(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                        <td style="padding-bottom: 10px; padding-left: 5px">
                                                            <label>Población indígena u originarios:</label>
                                                            <h:selectOneMenu value="#{reporteSidController.reporteSidExpediente.tipoPuebloAfectado}" style="width: 50%">
                                                                <f:selectItem itemLabel="Seleccione" itemValue=""/>
                                                                <f:selectItems value="#{listasComunesController.listaPuebloIndigena(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2">
                                                            <a class="btn btn-primary" jsf:action="#{reporteSidController.buscarReporteGestion(1)}" >
                                                                <span class="glyphicon glyphicon-search" />Buscar
                                                            </a>
                                                            &#160;&#160;&#160;
                                                            <a class="btn btn-warning" jsf:action="#{reporteSidController.cargarPaginaGestionReporte()}" >
                                                                <span class="glyphicon glyphicon-asterisk" />Limpiar
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                <br/>
                                <div>
                                    <h:panelGroup rendered="#{reporteSidController.listaReporteSidGestion.size() > 0}">
                                    <a jsf:action="#{reporteSidController.reporteGestionExcel()}">
                                        <img src="../../bootstrap/img/excel.png" height="45" width="45"/>
                                    </a>
                                    <a jsf:action="#{reporteSidController.reporteGestionPdf()}">
                                        <img src="../../bootstrap/img/pdf.png" height="45" width="40"/>
                                    </a>
                                        </h:panelGroup>
                                </div>
                                
                                <h:panelGroup id="idPanelBusquedaExpediente1">
                                    <h:dataTable value="#{reporteSidController.listaReporteSidGestion}" var="exped" class="table table-hover" binding="#{row31}" width="100%" columnClasses="column1,column2,column3,column4,column5,column6,column7,column8,column9,column10,column11,column12">
                                        <h:column>
                                            <f:facet name="header">Nro</f:facet>
                                            <h:outputText value="#{(row31.rowIndex+1)+(reporteSidController.pagina-1)*10}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Expediente</f:facet>
                                            <h:outputText value="#{exped.numeroExpediente}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Tipo</f:facet>
                                            <h:outputText value="#{exped.tipoExpediente}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Fecha gestión</f:facet>
                                            <h:outputText value="#{exped.fechaRecepcionGestion}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Código gestión</f:facet>
                                            <h:outputText value="#{exped.codigoGestion}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Institución</f:facet>
                                            <h:outputText value="#{exped.entidadGestion}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Descripción</f:facet>
                                            <h:outputText value="#{exped.descripcionGestion}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Fecha registro</f:facet>
                                            <h:outputText value="#{exped.fechaRegistroGestion}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Fecha modificación</f:facet>
                                            <h:outputText value="#{exped.fechaModificacionGestion}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Respuesta</f:facet>
                                            <h:outputText value="#{exped.respuestaGestion}" />
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Fecha Respuesta</f:facet>
                                            <h:outputText value="#{exped.fechaRespuestaGestion}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                            </h:outputText>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Origen</f:facet>
                                            <h:outputText value="#{exped.codigoGestionOrigen}" />
                                        </h:column>
                                    </h:dataTable>
                                    <ul class="pager">
                                        <li>
                                            <a jsf:action="#{reporteSidController.buscarReporteGestion(reporteSidController.pagina -1)}" jsf:rendered="#{!empty reporteSidController.listaReporteSidGestion}" jsf:onclick="loadingModal()">Anterior
                                                <f:ajax render="idPanelBusquedaExpediente1" onevent="closeModal"/>
                                            </a>
                                        </li>
                                        <li>
                                            <a jsf:action="#{reporteSidController.buscarReporteGestion(reporteSidController.pagina +1)}" jsf:rendered="#{!empty reporteSidController.listaReporteSidGestion}" jsf:onclick="loadingModal()">Siguiente
                                                <f:ajax render="idPanelBusquedaExpediente1" onevent="closeModal"/>
                                            </a>
                                        </li>
                                    </ul>
                                    <script>
                                        $('[data-toggle="tooltip"]').tooltip();
                                    </script>
                                </h:panelGroup>
                            </div>
                        </div>
                        <script>
                            function openModalBusquedaEntidad() {
                                $("#idModalBusquedaEntidad").modal('show');
                            }
                        </script>
                    </div>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>